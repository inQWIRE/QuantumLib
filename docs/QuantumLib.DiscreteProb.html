<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>QuantumLib.DiscreteProb</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">QuantumLib.DiscreteProb</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="QuantumLib.VectorStates.html#"><span class="id" title="library">VectorStates</span></a> <a class="idref" href="QuantumLib.Measurement.html#"><span class="id" title="library">Measurement</span></a>.<br/>

<br/>
</div>

<div class="doc">
This file describes some theory of discrete probability distributions.
  Its main feature is 'apply_u', a function to describe the output distribution 
  of running a quantum circuit. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="Cmod2" class="idref" href="#Cmod2"><span class="id" title="definition">Cmod2</span></a> (<a id="c:1" class="idref" href="#c:1"><span class="id" title="binder">c</span></a> : <a class="idref" href="QuantumLib.Complex.html#C"><span class="id" title="definition">C</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#c:1"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rfunctions.html#1fc859ef9f60fc2e3a52c48371d07707"><span class="id" title="notation">^</span></a> 2 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#c:1"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rfunctions.html#1fc859ef9f60fc2e3a52c48371d07707"><span class="id" title="notation">^</span></a> 2.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Cmod2_ge_0" class="idref" href="#Cmod2_ge_0"><span class="id" title="lemma">Cmod2_ge_0</span></a> : <span class="id" title="keyword">∀</span> <a id="c:2" class="idref" href="#c:2"><span class="id" title="binder">c</span></a>, 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">≤</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#Cmod2"><span class="id" title="definition">Cmod2</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#c:2"><span class="id" title="variable">c</span></a>.<br/>
 
<br/>
<span class="id" title="keyword">Lemma</span> <a id="Cmod2_Cmod_sqr" class="idref" href="#Cmod2_Cmod_sqr"><span class="id" title="lemma">Cmod2_Cmod_sqr</span></a> : <span class="id" title="keyword">∀</span> <a id="c:3" class="idref" href="#c:3"><span class="id" title="binder">c</span></a>, (<a class="idref" href="QuantumLib.DiscreteProb.html#Cmod2"><span class="id" title="definition">Cmod2</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#c:3"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rfunctions.html#1fc859ef9f60fc2e3a52c48371d07707"><span class="id" title="notation">(</span></a><a class="idref" href="QuantumLib.Complex.html#Cmod"><span class="id" title="definition">Cmod</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#c:3"><span class="id" title="variable">c</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rfunctions.html#1fc859ef9f60fc2e3a52c48371d07707"><span class="id" title="notation">)^</span></a>2)%<span class="id" title="var">R</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab3"></a><h1 class="section">Definition of probability distribution</h1>

</div>
<div class="code">

<br/>
</div>

<div class="doc">
We represent a (discrete) probability distribution over (0,n) 
   using a length n list of real numbers. We support sampling from this
   distribution using the 'sample' function. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="sum_over_list" class="idref" href="#sum_over_list"><span class="id" title="definition">sum_over_list</span></a> (<a id="l:4" class="idref" href="#l:4"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) := <a class="idref" href="QuantumLib.Summation.html#big_sum"><span class="id" title="definition">big_sum</span></a> (<span class="id" title="keyword">fun</span> <a id="i:5" class="idref" href="#i:5"><span class="id" title="binder">i</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#i:5"><span class="id" title="variable">i</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:4"><span class="id" title="variable">l</span></a> 0) (<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:4"><span class="id" title="variable">l</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="distribution" class="idref" href="#distribution"><span class="id" title="definition">distribution</span></a> (<a id="l:6" class="idref" href="#l:6"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) := <br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="x:7" class="idref" href="#x:7"><span class="id" title="binder">x</span></a> ⇒ 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">≤</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#x:7"><span class="id" title="variable">x</span></a>) <a class="idref" href="QuantumLib.DiscreteProb.html#l:6"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#sum_over_list"><span class="id" title="definition">sum_over_list</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:6"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 1.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sum_over_list_nil" class="idref" href="#sum_over_list_nil"><span class="id" title="lemma">sum_over_list_nil</span></a> : <a class="idref" href="QuantumLib.DiscreteProb.html#sum_over_list"><span class="id" title="definition">sum_over_list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>
 
<br/>
<span class="id" title="keyword">Lemma</span> <a id="sum_over_list_cons" class="idref" href="#sum_over_list_cons"><span class="id" title="lemma">sum_over_list_cons</span></a> : <span class="id" title="keyword">∀</span> <a id="x:8" class="idref" href="#x:8"><span class="id" title="binder">x</span></a> <a id="l:9" class="idref" href="#l:9"><span class="id" title="binder">l</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#sum_over_list"><span class="id" title="definition">sum_over_list</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#x:8"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:9"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#x:8"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#sum_over_list"><span class="id" title="definition">sum_over_list</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:9"><span class="id" title="variable">l</span></a>)%<span class="id" title="var">R</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sum_over_list_append" class="idref" href="#sum_over_list_append"><span class="id" title="lemma">sum_over_list_append</span></a> : <span class="id" title="keyword">∀</span> <a id="l1:10" class="idref" href="#l1:10"><span class="id" title="binder">l1</span></a> <a id="l2:11" class="idref" href="#l2:11"><span class="id" title="binder">l2</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#sum_over_list"><span class="id" title="definition">sum_over_list</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#l1:10"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l2:11"><span class="id" title="variable">l2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#sum_over_list"><span class="id" title="definition">sum_over_list</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l1:10"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#sum_over_list"><span class="id" title="definition">sum_over_list</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l2:11"><span class="id" title="variable">l2</span></a>)%<span class="id" title="var">R</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sum_over_list_geq_0" class="idref" href="#sum_over_list_geq_0"><span class="id" title="lemma">sum_over_list_geq_0</span></a> : <span class="id" title="keyword">∀</span> <a id="l:12" class="idref" href="#l:12"><span class="id" title="binder">l</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="x:13" class="idref" href="#x:13"><span class="id" title="binder">x</span></a> ⇒ 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">≤</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#x:13"><span class="id" title="variable">x</span></a>) <a class="idref" href="QuantumLib.DiscreteProb.html#l:12"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;0 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">≤</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#sum_over_list"><span class="id" title="definition">sum_over_list</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:12"><span class="id" title="variable">l</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab4"></a><h1 class="section">Sample from a distribution</h1>

</div>
<div class="code">

<br/>
</div>

<div class="doc">
Choose an element from the distribution based on random number r ∈ (0,1).

<div class="paragraph"> </div>

   Example: Say that the input list is l = (.2, .3, .4, .1) (which might correspond
   to the probabilities of measuring the outcomes 00, 01, 10, 11). Then this
   function will return:
<ul class="doclist">
<li> 0 for r ∈ (0, .2)

</li>
<li> 1 for r ∈ (.2, .5)

</li>
<li> 2 for r ∈ (.5, .9)

</li>
<li> 3 for r ∈ (.9, 1) 

</li>
</ul>

<div class="paragraph"> </div>

   The probability of getting a particular outcome is the size of the intervals of
   r values that produce that outcome. (See r_interval below.) 
</div>
<div class="code">
<span class="id" title="keyword">Fixpoint</span> <a id="sample" class="idref" href="#sample"><span class="id" title="definition">sample</span></a> (<a id="l:14" class="idref" href="#l:14"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) (<a id="r:15" class="idref" href="#r:15"><span class="id" title="binder">r</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="QuantumLib.DiscreteProb.html#l:14"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>    ⇒ 0 <br/>
&nbsp;&nbsp;| <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l'</span> ⇒ <span class="id" title="keyword">if</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.RIneq.html#Rlt_le_dec"><span class="id" title="lemma">Rlt_le_dec</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r:15"><span class="id" title="variable">r</span></a> <span class="id" title="var">x</span> <span class="id" title="keyword">then</span> 0 <span class="id" title="keyword">else</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#sample:16"><span class="id" title="definition">sample</span></a> <span class="id" title="var">l'</span> (<a class="idref" href="QuantumLib.DiscreteProb.html#r:15"><span class="id" title="variable">r</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a><span class="id" title="var">x</span>))<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sample_ub" class="idref" href="#sample_ub"><span class="id" title="lemma">sample_ub</span></a> : <span class="id" title="keyword">∀</span> <a id="l:18" class="idref" href="#l:18"><span class="id" title="binder">l</span></a> <a id="r:19" class="idref" href="#r:19"><span class="id" title="binder">r</span></a>, (<a class="idref" href="QuantumLib.DiscreteProb.html#sample"><span class="id" title="definition">sample</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:18"><span class="id" title="variable">l</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r:19"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:18"><span class="id" title="variable">l</span></a>)%<span class="id" title="var">nat</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sample_ub_lt" class="idref" href="#sample_ub_lt"><span class="id" title="lemma">sample_ub_lt</span></a> :  <span class="id" title="keyword">∀</span> <a id="l:20" class="idref" href="#l:20"><span class="id" title="binder">l</span></a> <a id="r:21" class="idref" href="#r:21"><span class="id" title="binder">r</span></a>, <br/>
&nbsp;&nbsp;0 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#b6aaeb1973f5e630a6779ff194ed22e3"><span class="id" title="notation">≤</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r:21"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#b6aaeb1973f5e630a6779ff194ed22e3"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#sum_over_list"><span class="id" title="definition">sum_over_list</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:20"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <br/>
&nbsp;&nbsp;(<a class="idref" href="QuantumLib.DiscreteProb.html#sample"><span class="id" title="definition">sample</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:20"><span class="id" title="variable">l</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r:21"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:20"><span class="id" title="variable">l</span></a>)%<span class="id" title="var">nat</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sample_lb" class="idref" href="#sample_lb"><span class="id" title="lemma">sample_lb</span></a> : <span class="id" title="keyword">∀</span> <a id="l:22" class="idref" href="#l:22"><span class="id" title="binder">l</span></a> <a id="r:23" class="idref" href="#r:23"><span class="id" title="binder">r</span></a>, (0 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#sample"><span class="id" title="definition">sample</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:22"><span class="id" title="variable">l</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r:23"><span class="id" title="variable">r</span></a>)%<span class="id" title="var">nat</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sample_max" class="idref" href="#sample_max"><span class="id" title="lemma">sample_max</span></a> : <span class="id" title="keyword">∀</span> <a id="l:24" class="idref" href="#l:24"><span class="id" title="binder">l</span></a> <a id="r:25" class="idref" href="#r:25"><span class="id" title="binder">r</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="x:26" class="idref" href="#x:26"><span class="id" title="binder">x</span></a> ⇒ 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">≤</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#x:26"><span class="id" title="variable">x</span></a>) <a class="idref" href="QuantumLib.DiscreteProb.html#l:24"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#sum_over_list"><span class="id" title="definition">sum_over_list</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:24"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">≤</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r:25"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#sample"><span class="id" title="definition">sample</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:24"><span class="id" title="variable">l</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r:25"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:24"><span class="id" title="variable">l</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sample_append_l" class="idref" href="#sample_append_l"><span class="id" title="lemma">sample_append_l</span></a> : <span class="id" title="keyword">∀</span> <a id="l1:27" class="idref" href="#l1:27"><span class="id" title="binder">l1</span></a> <a id="l2:28" class="idref" href="#l2:28"><span class="id" title="binder">l2</span></a> <a id="r:29" class="idref" href="#r:29"><span class="id" title="binder">r</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;0 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">≤</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r:29"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#r:29"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#sum_over_list"><span class="id" title="definition">sum_over_list</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l1:27"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#sample"><span class="id" title="definition">sample</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#l1:27"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l2:28"><span class="id" title="variable">l2</span></a>) <a class="idref" href="QuantumLib.DiscreteProb.html#r:29"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#sample"><span class="id" title="definition">sample</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l1:27"><span class="id" title="variable">l1</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r:29"><span class="id" title="variable">r</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sample_append_r" class="idref" href="#sample_append_r"><span class="id" title="lemma">sample_append_r</span></a> : <span class="id" title="keyword">∀</span> <a id="l1:30" class="idref" href="#l1:30"><span class="id" title="binder">l1</span></a> <a id="l2:31" class="idref" href="#l2:31"><span class="id" title="binder">l2</span></a> <a id="r:32" class="idref" href="#r:32"><span class="id" title="binder">r</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="x:33" class="idref" href="#x:33"><span class="id" title="binder">x</span></a> ⇒ 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">≤</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#x:33"><span class="id" title="variable">x</span></a>) <a class="idref" href="QuantumLib.DiscreteProb.html#l1:30"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="x:34" class="idref" href="#x:34"><span class="id" title="binder">x</span></a> ⇒ 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">≤</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#x:34"><span class="id" title="variable">x</span></a>) <a class="idref" href="QuantumLib.DiscreteProb.html#l2:31"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#sum_over_list"><span class="id" title="definition">sum_over_list</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l1:30"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">≤</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r:32"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="QuantumLib.DiscreteProb.html#sample"><span class="id" title="definition">sample</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#l1:30"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l2:31"><span class="id" title="variable">l2</span></a>) <a class="idref" href="QuantumLib.DiscreteProb.html#r:32"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l1:30"><span class="id" title="variable">l1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#sample"><span class="id" title="definition">sample</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l2:31"><span class="id" title="variable">l2</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#r:32"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#sum_over_list"><span class="id" title="definition">sum_over_list</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l1:30"><span class="id" title="variable">l1</span></a>))%<span class="id" title="var">nat</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sample_repeat_lb" class="idref" href="#sample_repeat_lb"><span class="id" title="lemma">sample_repeat_lb</span></a> : <span class="id" title="keyword">∀</span> <a id="m:35" class="idref" href="#m:35"><span class="id" title="binder">m</span></a> <a id="l:36" class="idref" href="#l:36"><span class="id" title="binder">l</span></a> <a id="r:37" class="idref" href="#r:37"><span class="id" title="binder">r</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;0 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">≤</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r:37"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="QuantumLib.DiscreteProb.html#m:35"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#sample"><span class="id" title="definition">sample</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Lists.List.html#repeat"><span class="id" title="definition">repeat</span></a> 0%<span class="id" title="var">R</span> <a class="idref" href="QuantumLib.DiscreteProb.html#m:35"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:36"><span class="id" title="variable">l</span></a>) <a class="idref" href="QuantumLib.DiscreteProb.html#r:37"><span class="id" title="variable">r</span></a>)%<span class="id" title="var">nat</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab5"></a><h1 class="section">Probability that a distribution satisfies a predicate (pr_outcome_sum)</h1>

</div>
<div class="code">

<br/>
</div>

<div class="doc">
Intuitively, the probability that an element satisfies boolean predicate 
   f is the sum over all element for which f holds. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="pr_outcome_sum" class="idref" href="#pr_outcome_sum"><span class="id" title="definition">pr_outcome_sum</span></a> (<a id="l:38" class="idref" href="#l:38"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) (<a id="f:39" class="idref" href="#f:39"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="QuantumLib.Summation.html#big_sum"><span class="id" title="definition">big_sum</span></a> (<span class="id" title="keyword">fun</span> <a id="i:40" class="idref" href="#i:40"><span class="id" title="binder">i</span></a> ⇒ <span class="id" title="keyword">if</span> <a class="idref" href="QuantumLib.DiscreteProb.html#f:39"><span class="id" title="variable">f</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#i:40"><span class="id" title="variable">i</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#i:40"><span class="id" title="variable">i</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:38"><span class="id" title="variable">l</span></a> 0 <span class="id" title="keyword">else</span> 0) (<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:38"><span class="id" title="variable">l</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="pr_outcome_sum_extend" class="idref" href="#pr_outcome_sum_extend"><span class="id" title="lemma">pr_outcome_sum_extend</span></a> : <span class="id" title="keyword">∀</span> <a id="x:41" class="idref" href="#x:41"><span class="id" title="binder">x</span></a> <a id="l:42" class="idref" href="#l:42"><span class="id" title="binder">l</span></a> <a id="f:43" class="idref" href="#f:43"><span class="id" title="binder">f</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#pr_outcome_sum"><span class="id" title="definition">pr_outcome_sum</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#x:41"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:42"><span class="id" title="variable">l</span></a>) <a class="idref" href="QuantumLib.DiscreteProb.html#f:43"><span class="id" title="variable">f</span></a> <br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="keyword">if</span> <a class="idref" href="QuantumLib.DiscreteProb.html#f:43"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">then</span> (<a class="idref" href="QuantumLib.DiscreteProb.html#x:41"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#pr_outcome_sum"><span class="id" title="definition">pr_outcome_sum</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:42"><span class="id" title="variable">l</span></a> (<span class="id" title="keyword">fun</span> <a id="y:45" class="idref" href="#y:45"><span class="id" title="binder">y</span></a> ⇒ <a class="idref" href="QuantumLib.DiscreteProb.html#f:43"><span class="id" title="variable">f</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#y:45"><span class="id" title="variable">y</span></a>)))%<span class="id" title="var">R</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="QuantumLib.DiscreteProb.html#pr_outcome_sum"><span class="id" title="definition">pr_outcome_sum</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:42"><span class="id" title="variable">l</span></a> (<span class="id" title="keyword">fun</span> <a id="y:44" class="idref" href="#y:44"><span class="id" title="binder">y</span></a> ⇒ <a class="idref" href="QuantumLib.DiscreteProb.html#f:43"><span class="id" title="variable">f</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#y:44"><span class="id" title="variable">y</span></a>)).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="pr_outcome_sum_append" class="idref" href="#pr_outcome_sum_append"><span class="id" title="lemma">pr_outcome_sum_append</span></a> : <span class="id" title="keyword">∀</span> <a id="l1:46" class="idref" href="#l1:46"><span class="id" title="binder">l1</span></a> <a id="l2:47" class="idref" href="#l2:47"><span class="id" title="binder">l2</span></a> <a id="f:48" class="idref" href="#f:48"><span class="id" title="binder">f</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#pr_outcome_sum"><span class="id" title="definition">pr_outcome_sum</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#l1:46"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l2:47"><span class="id" title="variable">l2</span></a>) <a class="idref" href="QuantumLib.DiscreteProb.html#f:48"><span class="id" title="variable">f</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#pr_outcome_sum"><span class="id" title="definition">pr_outcome_sum</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l1:46"><span class="id" title="variable">l1</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#f:48"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#pr_outcome_sum"><span class="id" title="definition">pr_outcome_sum</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l2:47"><span class="id" title="variable">l2</span></a> (<span class="id" title="keyword">fun</span> <a id="x:49" class="idref" href="#x:49"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="QuantumLib.DiscreteProb.html#f:48"><span class="id" title="variable">f</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l1:46"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#x:49"><span class="id" title="variable">x</span></a>)%<span class="id" title="var">nat</span>))%<span class="id" title="var">R</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="pr_outcome_sum_repeat_false" class="idref" href="#pr_outcome_sum_repeat_false"><span class="id" title="lemma">pr_outcome_sum_repeat_false</span></a> : <span class="id" title="keyword">∀</span> <a id="n:50" class="idref" href="#n:50"><span class="id" title="binder">n</span></a> <a id="f:51" class="idref" href="#f:51"><span class="id" title="binder">f</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#pr_outcome_sum"><span class="id" title="definition">pr_outcome_sum</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Lists.List.html#repeat"><span class="id" title="definition">repeat</span></a> 0 <a class="idref" href="QuantumLib.DiscreteProb.html#n:50"><span class="id" title="variable">n</span></a>) <a class="idref" href="QuantumLib.DiscreteProb.html#f:51"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="pr_outcome_sum_extend'" class="idref" href="#pr_outcome_sum_extend'"><span class="id" title="definition">pr_outcome_sum_extend'</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="l:52" class="idref" href="#l:52"><span class="id" title="binder">l</span></a> <a id="f:53" class="idref" href="#f:53"><span class="id" title="binder">f</span></a> <a id="a:54" class="idref" href="#a:54"><span class="id" title="binder">a</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="QuantumLib.DiscreteProb.html#pr_outcome_sum"><span class="id" title="definition">pr_outcome_sum</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#a:54"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:52"><span class="id" title="variable">l</span></a>) <a class="idref" href="QuantumLib.DiscreteProb.html#f:53"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">(</span></a><span class="id" title="keyword">if</span> (<a class="idref" href="QuantumLib.DiscreteProb.html#f:53"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a>) <span class="id" title="keyword">then</span> <a class="idref" href="QuantumLib.DiscreteProb.html#a:54"><span class="id" title="variable">a</span></a> <span class="id" title="keyword">else</span> 0<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#pr_outcome_sum"><span class="id" title="definition">pr_outcome_sum</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:52"><span class="id" title="variable">l</span></a> (<span class="id" title="keyword">fun</span> <a id="i:55" class="idref" href="#i:55"><span class="id" title="binder">i</span></a> ⇒ <a class="idref" href="QuantumLib.DiscreteProb.html#f:53"><span class="id" title="variable">f</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#i:55"><span class="id" title="variable">i</span></a>)))%<span class="id" title="var">R</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="pr_outcome_sum_replace_f" class="idref" href="#pr_outcome_sum_replace_f"><span class="id" title="lemma">pr_outcome_sum_replace_f</span></a> : <span class="id" title="keyword">∀</span> <a id="l:56" class="idref" href="#l:56"><span class="id" title="binder">l</span></a> <a id="f1:57" class="idref" href="#f1:57"><span class="id" title="binder">f1</span></a> <a id="f2:58" class="idref" href="#f2:58"><span class="id" title="binder">f2</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="x:59" class="idref" href="#x:59"><span class="id" title="binder">x</span></a>, (<a class="idref" href="QuantumLib.DiscreteProb.html#x:59"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:56"><span class="id" title="variable">l</span></a>)%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#f1:57"><span class="id" title="variable">f1</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#x:59"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#f2:58"><span class="id" title="variable">f2</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#x:59"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#pr_outcome_sum"><span class="id" title="definition">pr_outcome_sum</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:56"><span class="id" title="variable">l</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#f1:57"><span class="id" title="variable">f1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#pr_outcome_sum"><span class="id" title="definition">pr_outcome_sum</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:56"><span class="id" title="variable">l</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#f2:58"><span class="id" title="variable">f2</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="pr_outcome_sum_false" class="idref" href="#pr_outcome_sum_false"><span class="id" title="lemma">pr_outcome_sum_false</span></a> : <span class="id" title="keyword">∀</span> <a id="l:60" class="idref" href="#l:60"><span class="id" title="binder">l</span></a> <a id="f:61" class="idref" href="#f:61"><span class="id" title="binder">f</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="i:62" class="idref" href="#i:62"><span class="id" title="binder">i</span></a>, (<a class="idref" href="QuantumLib.DiscreteProb.html#i:62"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:60"><span class="id" title="variable">l</span></a>)%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#f:61"><span class="id" title="variable">f</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#i:62"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#pr_outcome_sum"><span class="id" title="definition">pr_outcome_sum</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:60"><span class="id" title="variable">l</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#f:61"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 0.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="pr_outcome_sum_true" class="idref" href="#pr_outcome_sum_true"><span class="id" title="lemma">pr_outcome_sum_true</span></a> : <span class="id" title="keyword">∀</span> <a id="l:63" class="idref" href="#l:63"><span class="id" title="binder">l</span></a> <a id="f:64" class="idref" href="#f:64"><span class="id" title="binder">f</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="i:65" class="idref" href="#i:65"><span class="id" title="binder">i</span></a>, (<a class="idref" href="QuantumLib.DiscreteProb.html#i:65"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:63"><span class="id" title="variable">l</span></a>)%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#f:64"><span class="id" title="variable">f</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#i:65"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#pr_outcome_sum"><span class="id" title="definition">pr_outcome_sum</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:63"><span class="id" title="variable">l</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#f:64"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#sum_over_list"><span class="id" title="definition">sum_over_list</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:63"><span class="id" title="variable">l</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="pr_outcome_sum_negb" class="idref" href="#pr_outcome_sum_negb"><span class="id" title="lemma">pr_outcome_sum_negb</span></a> : <span class="id" title="keyword">∀</span> <a id="l:66" class="idref" href="#l:66"><span class="id" title="binder">l</span></a> <a id="f:67" class="idref" href="#f:67"><span class="id" title="binder">f</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#pr_outcome_sum"><span class="id" title="definition">pr_outcome_sum</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:66"><span class="id" title="variable">l</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#f:67"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#sum_over_list"><span class="id" title="definition">sum_over_list</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:66"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#pr_outcome_sum"><span class="id" title="definition">pr_outcome_sum</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:66"><span class="id" title="variable">l</span></a> (<span class="id" title="keyword">fun</span> <a id="x:68" class="idref" href="#x:68"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#f:67"><span class="id" title="variable">f</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#x:68"><span class="id" title="variable">x</span></a>)))%<span class="id" title="var">R</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="pr_outcome_sum_orb" class="idref" href="#pr_outcome_sum_orb"><span class="id" title="lemma">pr_outcome_sum_orb</span></a> : <span class="id" title="keyword">∀</span> <a id="l:69" class="idref" href="#l:69"><span class="id" title="binder">l</span></a> <a id="f1:70" class="idref" href="#f1:70"><span class="id" title="binder">f1</span></a> <a id="f2:71" class="idref" href="#f2:71"><span class="id" title="binder">f2</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="x:72" class="idref" href="#x:72"><span class="id" title="binder">x</span></a> ⇒ 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">≤</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#x:72"><span class="id" title="variable">x</span></a>) <a class="idref" href="QuantumLib.DiscreteProb.html#l:69"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#pr_outcome_sum"><span class="id" title="definition">pr_outcome_sum</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:69"><span class="id" title="variable">l</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#f1:70"><span class="id" title="variable">f1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">≤</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#pr_outcome_sum"><span class="id" title="definition">pr_outcome_sum</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:69"><span class="id" title="variable">l</span></a> (<span class="id" title="keyword">fun</span> <a id="rnd:73" class="idref" href="#rnd:73"><span class="id" title="binder">rnd</span></a> ⇒ <a class="idref" href="QuantumLib.DiscreteProb.html#f1:70"><span class="id" title="variable">f1</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rnd:73"><span class="id" title="variable">rnd</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#081ff67d3116402bb680e8692aa39185"><span class="id" title="notation">||</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#f2:71"><span class="id" title="variable">f2</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rnd:73"><span class="id" title="variable">rnd</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="pr_outcome_sum_implies" class="idref" href="#pr_outcome_sum_implies"><span class="id" title="lemma">pr_outcome_sum_implies</span></a> : <span class="id" title="keyword">∀</span> <a id="l:74" class="idref" href="#l:74"><span class="id" title="binder">l</span></a> <a id="f1:75" class="idref" href="#f1:75"><span class="id" title="binder">f1</span></a> <a id="f2:76" class="idref" href="#f2:76"><span class="id" title="binder">f2</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="x:77" class="idref" href="#x:77"><span class="id" title="binder">x</span></a> ⇒ 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">≤</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#x:77"><span class="id" title="variable">x</span></a>) <a class="idref" href="QuantumLib.DiscreteProb.html#l:74"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="x:78" class="idref" href="#x:78"><span class="id" title="binder">x</span></a>, <a class="idref" href="QuantumLib.DiscreteProb.html#f1:75"><span class="id" title="variable">f1</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#x:78"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#f2:76"><span class="id" title="variable">f2</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#x:78"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;(<a class="idref" href="QuantumLib.DiscreteProb.html#pr_outcome_sum"><span class="id" title="definition">pr_outcome_sum</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:74"><span class="id" title="variable">l</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#f1:75"><span class="id" title="variable">f1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">≤</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#pr_outcome_sum"><span class="id" title="definition">pr_outcome_sum</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:74"><span class="id" title="variable">l</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#f2:76"><span class="id" title="variable">f2</span></a>)%<span class="id" title="var">R</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="pr_outcome_sum_ge_0" class="idref" href="#pr_outcome_sum_ge_0"><span class="id" title="lemma">pr_outcome_sum_ge_0</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="l:79" class="idref" href="#l:79"><span class="id" title="binder">l</span></a> <a id="f:80" class="idref" href="#f:80"><span class="id" title="binder">f</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="x:81" class="idref" href="#x:81"><span class="id" title="binder">x</span></a> ⇒ 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">≤</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#x:81"><span class="id" title="variable">x</span></a>) <a class="idref" href="QuantumLib.DiscreteProb.html#l:79"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">≤</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#pr_outcome_sum"><span class="id" title="definition">pr_outcome_sum</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:79"><span class="id" title="variable">l</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#f:80"><span class="id" title="variable">f</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab6"></a><h1 class="section">Probability that a distribution satisfies a predicate (pr_P)</h1>

</div>
<div class="code">

<br/>
</div>

<div class="doc">
Mathematically, the probability that an element satisifes a (not necessarily
   boolean) predicate is the size of the range of r-values for which the element
   returned from 'sample' satisfies the predicate. 
</div>
<div class="code">
<span class="id" title="keyword">Inductive</span> <a id="interval_sum" class="idref" href="#interval_sum"><span class="id" title="inductive">interval_sum</span></a> (<a id="P:84" class="idref" href="#P:84"><span class="id" title="binder">P</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) (<a id="rl:85" class="idref" href="#rl:85"><span class="id" title="binder">rl</span></a> <a id="rr:86" class="idref" href="#rr:86"><span class="id" title="binder">rr</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a id="SingleInterval" class="idref" href="#SingleInterval"><span class="id" title="constructor">SingleInterval</span></a> : <span class="id" title="keyword">∀</span> <a id="r1:89" class="idref" href="#r1:89"><span class="id" title="binder">r1</span></a> <a id="r2:90" class="idref" href="#r2:90"><span class="id" title="binder">r2</span></a>, <a class="idref" href="QuantumLib.DiscreteProb.html#rl:85"><span class="id" title="variable">rl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">≤</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r1:89"><span class="id" title="variable">r1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">≤</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r2:90"><span class="id" title="variable">r2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r2:90"><span class="id" title="variable">r2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">≤</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rr:86"><span class="id" title="variable">rr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="r:91" class="idref" href="#r:91"><span class="id" title="binder">r</span></a>, <a class="idref" href="QuantumLib.DiscreteProb.html#r1:89"><span class="id" title="variable">r1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r:91"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r2:90"><span class="id" title="variable">r2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#P:84"><span class="id" title="variable">P</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r:91"><span class="id" title="variable">r</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a>               <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="r:92" class="idref" href="#r:92"><span class="id" title="binder">r</span></a>, <a class="idref" href="QuantumLib.DiscreteProb.html#rl:85"><span class="id" title="variable">rl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r:92"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r1:89"><span class="id" title="variable">r1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#P:84"><span class="id" title="variable">P</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r:92"><span class="id" title="variable">r</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="r:93" class="idref" href="#r:93"><span class="id" title="binder">r</span></a>, <a class="idref" href="QuantumLib.DiscreteProb.html#r2:90"><span class="id" title="variable">r2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r:93"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&lt;'_x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rr:86"><span class="id" title="variable">rr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#P:84"><span class="id" title="variable">P</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r:93"><span class="id" title="variable">r</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#interval_sum:87"><span class="id" title="inductive">interval_sum</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#P:84"><span class="id" title="variable">P</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rl:85"><span class="id" title="variable">rl</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rr:86"><span class="id" title="variable">rr</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#r2:90"><span class="id" title="variable">r2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r1:89"><span class="id" title="variable">r1</span></a>)%<span class="id" title="var">R</span><br/>
<br/>
| <a id="CombineIntervals" class="idref" href="#CombineIntervals"><span class="id" title="constructor">CombineIntervals</span></a> : <span class="id" title="keyword">∀</span> <a id="rm:94" class="idref" href="#rm:94"><span class="id" title="binder">rm</span></a> <a id="r1:95" class="idref" href="#r1:95"><span class="id" title="binder">r1</span></a> <a id="r2:96" class="idref" href="#r2:96"><span class="id" title="binder">r2</span></a>, <a class="idref" href="QuantumLib.DiscreteProb.html#rl:85"><span class="id" title="variable">rl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">≤</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rm:94"><span class="id" title="variable">rm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">≤</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rr:86"><span class="id" title="variable">rr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#interval_sum:87"><span class="id" title="inductive">interval_sum</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#P:84"><span class="id" title="variable">P</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rl:85"><span class="id" title="variable">rl</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rm:94"><span class="id" title="variable">rm</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r1:95"><span class="id" title="variable">r1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#interval_sum:87"><span class="id" title="inductive">interval_sum</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#P:84"><span class="id" title="variable">P</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rm:94"><span class="id" title="variable">rm</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rr:86"><span class="id" title="variable">rr</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r2:96"><span class="id" title="variable">r2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#interval_sum:87"><span class="id" title="inductive">interval_sum</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#P:84"><span class="id" title="variable">P</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rl:85"><span class="id" title="variable">rl</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rr:86"><span class="id" title="variable">rr</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#r1:95"><span class="id" title="variable">r1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r2:96"><span class="id" title="variable">r2</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="interval_sum_shift" class="idref" href="#interval_sum_shift"><span class="id" title="lemma">interval_sum_shift</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="P:97" class="idref" href="#P:97"><span class="id" title="binder">P</span></a> <a id="rl:98" class="idref" href="#rl:98"><span class="id" title="binder">rl</span></a> <a id="rr:99" class="idref" href="#rr:99"><span class="id" title="binder">rr</span></a> <a id="r:100" class="idref" href="#r:100"><span class="id" title="binder">r</span></a> <a id="a:101" class="idref" href="#a:101"><span class="id" title="binder">a</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#interval_sum"><span class="id" title="inductive">interval_sum</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#P:97"><span class="id" title="variable">P</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rl:98"><span class="id" title="variable">rl</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rr:99"><span class="id" title="variable">rr</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r:100"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#interval_sum"><span class="id" title="inductive">interval_sum</span></a> (<span class="id" title="keyword">fun</span> <a id="x:102" class="idref" href="#x:102"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="QuantumLib.DiscreteProb.html#P:97"><span class="id" title="variable">P</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#x:102"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#a:101"><span class="id" title="variable">a</span></a>)%<span class="id" title="var">R</span>) (<a class="idref" href="QuantumLib.DiscreteProb.html#rl:98"><span class="id" title="variable">rl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#a:101"><span class="id" title="variable">a</span></a>)%<span class="id" title="var">R</span> (<a class="idref" href="QuantumLib.DiscreteProb.html#rr:99"><span class="id" title="variable">rr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#a:101"><span class="id" title="variable">a</span></a>)%<span class="id" title="var">R</span> <a class="idref" href="QuantumLib.DiscreteProb.html#r:100"><span class="id" title="variable">r</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="interval_sum_same" class="idref" href="#interval_sum_same"><span class="id" title="lemma">interval_sum_same</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="P1:103" class="idref" href="#P1:103"><span class="id" title="binder">P1</span></a> <a id="P2:104" class="idref" href="#P2:104"><span class="id" title="binder">P2</span></a> <a id="rl:105" class="idref" href="#rl:105"><span class="id" title="binder">rl</span></a> <a id="rr:106" class="idref" href="#rr:106"><span class="id" title="binder">rr</span></a> <a id="r:107" class="idref" href="#r:107"><span class="id" title="binder">r</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#interval_sum"><span class="id" title="inductive">interval_sum</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#P1:103"><span class="id" title="variable">P1</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rl:105"><span class="id" title="variable">rl</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rr:106"><span class="id" title="variable">rr</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r:107"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="x:108" class="idref" href="#x:108"><span class="id" title="binder">x</span></a>, <a class="idref" href="QuantumLib.DiscreteProb.html#rl:105"><span class="id" title="variable">rl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#b6aaeb1973f5e630a6779ff194ed22e3"><span class="id" title="notation">≤</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#x:108"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#b6aaeb1973f5e630a6779ff194ed22e3"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rr:106"><span class="id" title="variable">rr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="QuantumLib.DiscreteProb.html#P1:103"><span class="id" title="variable">P1</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#x:108"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#P2:104"><span class="id" title="variable">P2</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#x:108"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">))</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#interval_sum"><span class="id" title="inductive">interval_sum</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#P2:104"><span class="id" title="variable">P2</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rl:105"><span class="id" title="variable">rl</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rr:106"><span class="id" title="variable">rr</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r:107"><span class="id" title="variable">r</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="interval_sum_shift_alt" class="idref" href="#interval_sum_shift_alt"><span class="id" title="lemma">interval_sum_shift_alt</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="P:109" class="idref" href="#P:109"><span class="id" title="binder">P</span></a> <a id="rl:110" class="idref" href="#rl:110"><span class="id" title="binder">rl</span></a> <a id="rr:111" class="idref" href="#rr:111"><span class="id" title="binder">rr</span></a> <a id="r:112" class="idref" href="#r:112"><span class="id" title="binder">r</span></a> <a id="a:113" class="idref" href="#a:113"><span class="id" title="binder">a</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#interval_sum"><span class="id" title="inductive">interval_sum</span></a> (<span class="id" title="keyword">fun</span> <a id="x:114" class="idref" href="#x:114"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="QuantumLib.DiscreteProb.html#P:109"><span class="id" title="variable">P</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#x:114"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#a:113"><span class="id" title="variable">a</span></a>)%<span class="id" title="var">R</span>) (<a class="idref" href="QuantumLib.DiscreteProb.html#rl:110"><span class="id" title="variable">rl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#a:113"><span class="id" title="variable">a</span></a>)%<span class="id" title="var">R</span> (<a class="idref" href="QuantumLib.DiscreteProb.html#rr:111"><span class="id" title="variable">rr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#a:113"><span class="id" title="variable">a</span></a>)%<span class="id" title="var">R</span> <a class="idref" href="QuantumLib.DiscreteProb.html#r:112"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#interval_sum"><span class="id" title="inductive">interval_sum</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#P:109"><span class="id" title="variable">P</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rl:110"><span class="id" title="variable">rl</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rr:111"><span class="id" title="variable">rr</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r:112"><span class="id" title="variable">r</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="interval_sum_gt_0" class="idref" href="#interval_sum_gt_0"><span class="id" title="lemma">interval_sum_gt_0</span></a> : <span class="id" title="keyword">∀</span> <a id="P:117" class="idref" href="#P:117"><span class="id" title="binder">P</span></a> <a id="rl:118" class="idref" href="#rl:118"><span class="id" title="binder">rl</span></a> <a id="rr:119" class="idref" href="#rr:119"><span class="id" title="binder">rr</span></a> <a id="r:120" class="idref" href="#r:120"><span class="id" title="binder">r</span></a>, <a class="idref" href="QuantumLib.DiscreteProb.html#interval_sum"><span class="id" title="inductive">interval_sum</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#P:117"><span class="id" title="variable">P</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rl:118"><span class="id" title="variable">rl</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rr:119"><span class="id" title="variable">rr</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r:120"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r:120"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#7822f196a19e8673dbc60a529f728eb7"><span class="id" title="notation">≥</span></a> 0.<br/>
 
<br/>
<span class="id" title="keyword">Lemma</span> <a id="interval_sum_break" class="idref" href="#interval_sum_break"><span class="id" title="lemma">interval_sum_break</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="P:121" class="idref" href="#P:121"><span class="id" title="binder">P</span></a> <a id="rl:122" class="idref" href="#rl:122"><span class="id" title="binder">rl</span></a> <a id="rm:123" class="idref" href="#rm:123"><span class="id" title="binder">rm</span></a> <a id="rr:124" class="idref" href="#rr:124"><span class="id" title="binder">rr</span></a> <a id="r:125" class="idref" href="#r:125"><span class="id" title="binder">r</span></a>,    <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#interval_sum"><span class="id" title="inductive">interval_sum</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#P:121"><span class="id" title="variable">P</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rl:122"><span class="id" title="variable">rl</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rr:124"><span class="id" title="variable">rr</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r:125"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#rl:122"><span class="id" title="variable">rl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">≤</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rm:123"><span class="id" title="variable">rm</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">≤</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rr:124"><span class="id" title="variable">rr</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="r1:126" class="idref" href="#r1:126"><span class="id" title="binder">r1</span></a> <a id="r2:127" class="idref" href="#r2:127"><span class="id" title="binder">r2</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#interval_sum"><span class="id" title="inductive">interval_sum</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#P:121"><span class="id" title="variable">P</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rl:122"><span class="id" title="variable">rl</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rm:123"><span class="id" title="variable">rm</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r1:126"><span class="id" title="variable">r1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#interval_sum"><span class="id" title="inductive">interval_sum</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#P:121"><span class="id" title="variable">P</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rm:123"><span class="id" title="variable">rm</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rr:124"><span class="id" title="variable">rr</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r2:127"><span class="id" title="variable">r2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#r:125"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r1:126"><span class="id" title="variable">r1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r2:127"><span class="id" title="variable">r2</span></a>)%<span class="id" title="var">R</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="interval_sum_unique" class="idref" href="#interval_sum_unique"><span class="id" title="lemma">interval_sum_unique</span></a> : <span class="id" title="keyword">∀</span> <a id="P:128" class="idref" href="#P:128"><span class="id" title="binder">P</span></a> <a id="rl:129" class="idref" href="#rl:129"><span class="id" title="binder">rl</span></a> <a id="rr:130" class="idref" href="#rr:130"><span class="id" title="binder">rr</span></a> <a id="r1:131" class="idref" href="#r1:131"><span class="id" title="binder">r1</span></a> <a id="r2:132" class="idref" href="#r2:132"><span class="id" title="binder">r2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#interval_sum"><span class="id" title="inductive">interval_sum</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#P:128"><span class="id" title="variable">P</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rl:129"><span class="id" title="variable">rl</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rr:130"><span class="id" title="variable">rr</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r1:131"><span class="id" title="variable">r1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#interval_sum"><span class="id" title="inductive">interval_sum</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#P:128"><span class="id" title="variable">P</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rl:129"><span class="id" title="variable">rl</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rr:130"><span class="id" title="variable">rr</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r2:132"><span class="id" title="variable">r2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#r1:131"><span class="id" title="variable">r1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r2:132"><span class="id" title="variable">r2</span></a>.<br/>

<br/>
</div>

<div class="doc">
Mathematical measure of P on the interval (0,1) 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="pr_P" class="idref" href="#pr_P"><span class="id" title="definition">pr_P</span></a> <a id="P:133" class="idref" href="#P:133"><span class="id" title="binder">P</span></a> <a id="r:134" class="idref" href="#r:134"><span class="id" title="binder">r</span></a> := <a class="idref" href="QuantumLib.DiscreteProb.html#interval_sum"><span class="id" title="inductive">interval_sum</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#P:133"><span class="id" title="variable">P</span></a> 0%<span class="id" title="var">R</span> 1%<span class="id" title="var">R</span> <a class="idref" href="QuantumLib.DiscreteProb.html#r:134"><span class="id" title="variable">r</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="pr_P_same" class="idref" href="#pr_P_same"><span class="id" title="lemma">pr_P_same</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="P1:135" class="idref" href="#P1:135"><span class="id" title="binder">P1</span></a> <a id="P2:136" class="idref" href="#P2:136"><span class="id" title="binder">P2</span></a> <a id="r:137" class="idref" href="#r:137"><span class="id" title="binder">r</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="rnd:138" class="idref" href="#rnd:138"><span class="id" title="binder">rnd</span></a>, 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#b6aaeb1973f5e630a6779ff194ed22e3"><span class="id" title="notation">≤</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rnd:138"><span class="id" title="variable">rnd</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#b6aaeb1973f5e630a6779ff194ed22e3"><span class="id" title="notation">&lt;</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#P1:135"><span class="id" title="variable">P1</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rnd:138"><span class="id" title="variable">rnd</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#P2:136"><span class="id" title="variable">P2</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rnd:138"><span class="id" title="variable">rnd</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#pr_P"><span class="id" title="definition">pr_P</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#P1:135"><span class="id" title="variable">P1</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r:137"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#pr_P"><span class="id" title="definition">pr_P</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#P2:136"><span class="id" title="variable">P2</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r:137"><span class="id" title="variable">r</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="pr_outcome_sum_eq_aux'" class="idref" href="#pr_outcome_sum_eq_aux'"><span class="id" title="lemma">pr_outcome_sum_eq_aux'</span></a> : <span class="id" title="keyword">∀</span> (<a id="l:139" class="idref" href="#l:139"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) (<a id="f:140" class="idref" href="#f:140"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) <a id="r:141" class="idref" href="#r:141"><span class="id" title="binder">r</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="x:142" class="idref" href="#x:142"><span class="id" title="binder">x</span></a> ⇒ 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">≤</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#x:142"><span class="id" title="variable">x</span></a>) <a class="idref" href="QuantumLib.DiscreteProb.html#l:139"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#sum_over_list"><span class="id" title="definition">sum_over_list</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:139"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r:141"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#interval_sum"><span class="id" title="inductive">interval_sum</span></a>  (<span class="id" title="keyword">fun</span> <a id="rnd:143" class="idref" href="#rnd:143"><span class="id" title="binder">rnd</span></a> ⇒ <a class="idref" href="QuantumLib.DiscreteProb.html#f:140"><span class="id" title="variable">f</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#sample"><span class="id" title="definition">sample</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:139"><span class="id" title="variable">l</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rnd:143"><span class="id" title="variable">rnd</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) 0 <a class="idref" href="QuantumLib.DiscreteProb.html#r:141"><span class="id" title="variable">r</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#pr_outcome_sum"><span class="id" title="definition">pr_outcome_sum</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:139"><span class="id" title="variable">l</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#f:140"><span class="id" title="variable">f</span></a>).<br/>

<br/>
</div>

<div class="doc">
The pr_outcome_sum and pr_P definitions of probability are consistent. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="pr_outcome_sum_eq_aux" class="idref" href="#pr_outcome_sum_eq_aux"><span class="id" title="lemma">pr_outcome_sum_eq_aux</span></a> : <span class="id" title="keyword">∀</span> (<a id="l:152" class="idref" href="#l:152"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) (<a id="f:153" class="idref" href="#f:153"><span class="id" title="binder">f</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#distribution"><span class="id" title="definition">distribution</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:152"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#pr_P"><span class="id" title="definition">pr_P</span></a> (<span class="id" title="keyword">fun</span> <a id="rnd:154" class="idref" href="#rnd:154"><span class="id" title="binder">rnd</span></a> ⇒ <a class="idref" href="QuantumLib.DiscreteProb.html#f:153"><span class="id" title="variable">f</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#sample"><span class="id" title="definition">sample</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:152"><span class="id" title="variable">l</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rnd:154"><span class="id" title="variable">rnd</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) (<a class="idref" href="QuantumLib.DiscreteProb.html#pr_outcome_sum"><span class="id" title="definition">pr_outcome_sum</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:152"><span class="id" title="variable">l</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#f:153"><span class="id" title="variable">f</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="pr_outcome_sum_leq_exists" class="idref" href="#pr_outcome_sum_leq_exists"><span class="id" title="lemma">pr_outcome_sum_leq_exists</span></a> : <span class="id" title="keyword">∀</span> <a id="l:155" class="idref" href="#l:155"><span class="id" title="binder">l</span></a> <a id="f:156" class="idref" href="#f:156"><span class="id" title="binder">f</span></a> <a id="r:157" class="idref" href="#r:157"><span class="id" title="binder">r</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#distribution"><span class="id" title="definition">distribution</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:155"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#pr_outcome_sum"><span class="id" title="definition">pr_outcome_sum</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:155"><span class="id" title="variable">l</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#f:156"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">≤</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r:157"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="r0:158" class="idref" href="#r0:158"><span class="id" title="binder">r0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> (0 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">≤</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r0:158"><span class="id" title="variable">r0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#fbdebc8c1a732d40499de973c18a9a13"><span class="id" title="notation">≤</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r:157"><span class="id" title="variable">r</span></a>)%<span class="id" title="var">R</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#pr_P"><span class="id" title="definition">pr_P</span></a> (<span class="id" title="keyword">fun</span> <a id="rnd:159" class="idref" href="#rnd:159"><span class="id" title="binder">rnd</span></a> ⇒ <a class="idref" href="QuantumLib.DiscreteProb.html#f:156"><span class="id" title="variable">f</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#sample"><span class="id" title="definition">sample</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:155"><span class="id" title="variable">l</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rnd:159"><span class="id" title="variable">rnd</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <a class="idref" href="QuantumLib.DiscreteProb.html#r0:158"><span class="id" title="variable">r0</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="pr_P_unique" class="idref" href="#pr_P_unique"><span class="id" title="lemma">pr_P_unique</span></a> : <span class="id" title="keyword">∀</span> <a id="P:160" class="idref" href="#P:160"><span class="id" title="binder">P</span></a> <a id="r1:161" class="idref" href="#r1:161"><span class="id" title="binder">r1</span></a> <a id="r2:162" class="idref" href="#r2:162"><span class="id" title="binder">r2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#pr_P"><span class="id" title="definition">pr_P</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#P:160"><span class="id" title="variable">P</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r1:161"><span class="id" title="variable">r1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#pr_P"><span class="id" title="definition">pr_P</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#P:160"><span class="id" title="variable">P</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r2:162"><span class="id" title="variable">r2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#r1:161"><span class="id" title="variable">r1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r2:162"><span class="id" title="variable">r2</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="pr_outcome_sum_eq" class="idref" href="#pr_outcome_sum_eq"><span class="id" title="lemma">pr_outcome_sum_eq</span></a> : <span class="id" title="keyword">∀</span> <a id="f:163" class="idref" href="#f:163"><span class="id" title="binder">f</span></a> <a id="l:164" class="idref" href="#l:164"><span class="id" title="binder">l</span></a> <a id="r:165" class="idref" href="#r:165"><span class="id" title="binder">r</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#distribution"><span class="id" title="definition">distribution</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:164"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#pr_outcome_sum"><span class="id" title="definition">pr_outcome_sum</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:164"><span class="id" title="variable">l</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#f:163"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r:165"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#pr_P"><span class="id" title="definition">pr_P</span></a> (<span class="id" title="keyword">fun</span> <a id="rnd:166" class="idref" href="#rnd:166"><span class="id" title="binder">rnd</span></a> ⇒ <a class="idref" href="QuantumLib.DiscreteProb.html#f:163"><span class="id" title="variable">f</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#sample"><span class="id" title="definition">sample</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:164"><span class="id" title="variable">l</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rnd:166"><span class="id" title="variable">rnd</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <a class="idref" href="QuantumLib.DiscreteProb.html#r:165"><span class="id" title="variable">r</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab7"></a><h1 class="section">Distribution created by running a quantum program</h1>

</div>
<div class="code">

<br/>
</div>

<div class="doc">
Given our definition of sample, we can define a function to apply a 
   quantum program and return the result of measuring all qubits.

<div class="paragraph"> </div>

   rnd is a random input in (0,1). 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="apply_u" class="idref" href="#apply_u"><span class="id" title="definition">apply_u</span></a> {<a id="dim:167" class="idref" href="#dim:167"><span class="id" title="binder">dim</span></a>} (<a id="u:168" class="idref" href="#u:168"><span class="id" title="binder">u</span></a> : <a class="idref" href="QuantumLib.Matrix.html#Square"><span class="id" title="abbreviation">Square</span></a> (2 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Arith.PeanoNat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">^</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#dim:167"><span class="id" title="variable">dim</span></a>)) : <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="v:169" class="idref" href="#v:169"><span class="id" title="binder">v</span></a> := <a class="idref" href="QuantumLib.DiscreteProb.html#u:168"><span class="id" title="variable">u</span></a> <a class="idref" href="QuantumLib.Matrix.html#f26113218b230108636130da4315160b"><span class="id" title="notation">×</span></a> <a class="idref" href="QuantumLib.VectorStates.html#basis_vector"><span class="id" title="definition">basis_vector</span></a> (2<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Arith.PeanoNat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">^</span></a><a class="idref" href="QuantumLib.DiscreteProb.html#dim:167"><span class="id" title="variable">dim</span></a>) 0 <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#Cmod2"><span class="id" title="definition">Cmod2</span></a> (<a class="idref" href="QuantumLib.Matrix.html#vec_to_list"><span class="id" title="definition">vec_to_list</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#v:169"><span class="id" title="variable">v</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="pos_Cmod2_list" class="idref" href="#pos_Cmod2_list"><span class="id" title="lemma">pos_Cmod2_list</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="l:170" class="idref" href="#l:170"><span class="id" title="binder">l</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="x:171" class="idref" href="#x:171"><span class="id" title="binder">x</span></a> ⇒ 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">≤</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#x:171"><span class="id" title="variable">x</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#Cmod2"><span class="id" title="definition">Cmod2</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:170"><span class="id" title="variable">l</span></a>).<br/>

<br/>
<span class="id" title="keyword">Local Opaque</span> <a class="idref" href="QuantumLib.Summation.html#big_sum"><span class="id" title="definition">big_sum</span></a>.<br/>
<span class="id" title="keyword">Lemma</span> <a id="sum_over_list_Cmod2_vec_to_list'" class="idref" href="#sum_over_list_Cmod2_vec_to_list'"><span class="id" title="lemma">sum_over_list_Cmod2_vec_to_list'</span></a> : <span class="id" title="keyword">∀</span> <a id="d:172" class="idref" href="#d:172"><span class="id" title="binder">d</span></a> <a id="x:173" class="idref" href="#x:173"><span class="id" title="binder">x</span></a> <a id="l:174" class="idref" href="#l:174"><span class="id" title="binder">l</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#sum_over_list"><span class="id" title="definition">sum_over_list</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#Cmod2"><span class="id" title="definition">Cmod2</span></a> (@<a class="idref" href="QuantumLib.Matrix.html#vec_to_list'"><span class="id" title="definition">vec_to_list'</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#x:173"><span class="id" title="variable">x</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#d:172"><span class="id" title="variable">d</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:174"><span class="id" title="variable">l</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="QuantumLib.Summation.html#big_sum"><span class="id" title="definition">big_sum</span></a> (<span class="id" title="keyword">fun</span> <a id="i:175" class="idref" href="#i:175"><span class="id" title="binder">i</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> ⇒ (<a class="idref" href="QuantumLib.Complex.html#Cmod"><span class="id" title="definition">Cmod</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#l:174"><span class="id" title="variable">l</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#i:175"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#x:173"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#d:172"><span class="id" title="variable">d</span></a>)%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rfunctions.html#1fc859ef9f60fc2e3a52c48371d07707"><span class="id" title="notation">^</span></a> 2)%<span class="id" title="var">R</span>) <a class="idref" href="QuantumLib.DiscreteProb.html#d:172"><span class="id" title="variable">d</span></a>.<br/>
<span class="id" title="keyword">Local Transparent</span> <a class="idref" href="QuantumLib.Summation.html#big_sum"><span class="id" title="definition">big_sum</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sum_over_list_Cmod2_vec_to_list" class="idref" href="#sum_over_list_Cmod2_vec_to_list"><span class="id" title="lemma">sum_over_list_Cmod2_vec_to_list</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="d:176" class="idref" href="#d:176"><span class="id" title="binder">d</span></a> (<a id="l:177" class="idref" href="#l:177"><span class="id" title="binder">l</span></a> : <a class="idref" href="QuantumLib.Matrix.html#Vector"><span class="id" title="abbreviation">Vector</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#d:176"><span class="id" title="variable">d</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#sum_over_list"><span class="id" title="definition">sum_over_list</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Lists.List.html#map"><span class="id" title="definition">map</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#Cmod2"><span class="id" title="definition">Cmod2</span></a> (<a class="idref" href="QuantumLib.Matrix.html#vec_to_list"><span class="id" title="definition">vec_to_list</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:177"><span class="id" title="variable">l</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="QuantumLib.Summation.html#big_sum"><span class="id" title="definition">big_sum</span></a> (<span class="id" title="keyword">fun</span> <a id="i:178" class="idref" href="#i:178"><span class="id" title="binder">i</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> ⇒ (<a class="idref" href="QuantumLib.Complex.html#Cmod"><span class="id" title="definition">Cmod</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#l:177"><span class="id" title="variable">l</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#i:178"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rfunctions.html#1fc859ef9f60fc2e3a52c48371d07707"><span class="id" title="notation">^</span></a> 2)%<span class="id" title="var">R</span>) <a class="idref" href="QuantumLib.DiscreteProb.html#d:176"><span class="id" title="variable">d</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="distribution_apply_u" class="idref" href="#distribution_apply_u"><span class="id" title="lemma">distribution_apply_u</span></a> : <span class="id" title="keyword">∀</span> {<a id="dim:179" class="idref" href="#dim:179"><span class="id" title="binder">dim</span></a>} <a id="u:180" class="idref" href="#u:180"><span class="id" title="binder">u</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="QuantumLib.Quantum.html#WF_Unitary"><span class="id" title="definition">WF_Unitary</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#u:180"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#distribution"><span class="id" title="definition">distribution</span></a> (@<a class="idref" href="QuantumLib.DiscreteProb.html#apply_u"><span class="id" title="definition">apply_u</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#dim:179"><span class="id" title="variable">dim</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#u:180"><span class="id" title="variable">u</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="length_apply_u" class="idref" href="#length_apply_u"><span class="id" title="lemma">length_apply_u</span></a> : <span class="id" title="keyword">∀</span> <a id="n:181" class="idref" href="#n:181"><span class="id" title="binder">n</span></a> (<a id="u:182" class="idref" href="#u:182"><span class="id" title="binder">u</span></a> : <a class="idref" href="QuantumLib.Matrix.html#Square"><span class="id" title="abbreviation">Square</span></a> (2 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Arith.PeanoNat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">^</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#n:181"><span class="id" title="variable">n</span></a>)),<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#apply_u"><span class="id" title="definition">apply_u</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#u:182"><span class="id" title="variable">u</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> (2 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Arith.PeanoNat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">^</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#n:181"><span class="id" title="variable">n</span></a>)%<span class="id" title="var">nat</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="nth_apply_u_probability_of_outcome" class="idref" href="#nth_apply_u_probability_of_outcome"><span class="id" title="lemma">nth_apply_u_probability_of_outcome</span></a> : <span class="id" title="keyword">∀</span> <a id="n:183" class="idref" href="#n:183"><span class="id" title="binder">n</span></a> (<a id="u:184" class="idref" href="#u:184"><span class="id" title="binder">u</span></a> : <a class="idref" href="QuantumLib.Matrix.html#Square"><span class="id" title="abbreviation">Square</span></a> (2 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Arith.PeanoNat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">^</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#n:183"><span class="id" title="variable">n</span></a>)) <a id="x:185" class="idref" href="#x:185"><span class="id" title="binder">x</span></a>,<br/>
&nbsp;&nbsp;(<a class="idref" href="QuantumLib.DiscreteProb.html#x:185"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> 2 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Arith.PeanoNat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">^</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#n:183"><span class="id" title="variable">n</span></a>)%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="QuantumLib.Matrix.html#WF_Matrix"><span class="id" title="definition">WF_Matrix</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#u:184"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#x:185"><span class="id" title="variable">x</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#apply_u"><span class="id" title="definition">apply_u</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#u:184"><span class="id" title="variable">u</span></a>) 0 <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="QuantumLib.Measurement.html#probability_of_outcome"><span class="id" title="definition">probability_of_outcome</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="QuantumLib.VectorStates.html#basis_vector"><span class="id" title="definition">basis_vector</span></a> (2<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Arith.PeanoNat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">^</span></a><a class="idref" href="QuantumLib.DiscreteProb.html#n:183"><span class="id" title="variable">n</span></a>) <a class="idref" href="QuantumLib.DiscreteProb.html#x:185"><span class="id" title="variable">x</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="QuantumLib.DiscreteProb.html#u:184"><span class="id" title="variable">u</span></a> <a class="idref" href="QuantumLib.Matrix.html#f26113218b230108636130da4315160b"><span class="id" title="notation">×</span></a> <a class="idref" href="QuantumLib.VectorStates.html#basis_vector"><span class="id" title="definition">basis_vector</span></a> (2<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Arith.PeanoNat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">^</span></a><a class="idref" href="QuantumLib.DiscreteProb.html#n:183"><span class="id" title="variable">n</span></a>) 0).<br/>

<br/>
</div>

<div class="doc">
<a id="lab8"></a><h1 class="section">Uniform distribution</h1>

</div>
<div class="code">

<br/>
</div>

<div class="doc">
Uniform sampling in the range (lower, upper) 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a id="uniform" class="idref" href="#uniform"><span class="id" title="definition">uniform</span></a> (<a id="lower:186" class="idref" href="#lower:186"><span class="id" title="binder">lower</span></a> <a id="upper:187" class="idref" href="#upper:187"><span class="id" title="binder">upper</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Lists.List.html#repeat"><span class="id" title="definition">repeat</span></a> 0 <a class="idref" href="QuantumLib.DiscreteProb.html#lower:186"><span class="id" title="variable">lower</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Lists.List.html#repeat"><span class="id" title="definition">repeat</span></a> (1<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">/</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Raxioms.html#INR"><span class="id" title="definition">INR</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#upper:187"><span class="id" title="variable">upper</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#lower:186"><span class="id" title="variable">lower</span></a>))%<span class="id" title="var">R</span> (<a class="idref" href="QuantumLib.DiscreteProb.html#upper:187"><span class="id" title="variable">upper</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Peano.html#::nat_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#lower:186"><span class="id" title="variable">lower</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="repeat_gt0" class="idref" href="#repeat_gt0"><span class="id" title="lemma">repeat_gt0</span></a> : <span class="id" title="keyword">∀</span> <a id="m:188" class="idref" href="#m:188"><span class="id" title="binder">m</span></a> <a id="r:189" class="idref" href="#r:189"><span class="id" title="binder">r</span></a>, 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">≤</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r:189"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="x:190" class="idref" href="#x:190"><span class="id" title="binder">x</span></a> ⇒ 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">≤</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#x:190"><span class="id" title="variable">x</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Lists.List.html#repeat"><span class="id" title="definition">repeat</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r:189"><span class="id" title="variable">r</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#m:188"><span class="id" title="variable">m</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sum_over_list_repeat" class="idref" href="#sum_over_list_repeat"><span class="id" title="lemma">sum_over_list_repeat</span></a> : <span class="id" title="keyword">∀</span> <a id="m:191" class="idref" href="#m:191"><span class="id" title="binder">m</span></a> <a id="x:192" class="idref" href="#x:192"><span class="id" title="binder">x</span></a>, (<a class="idref" href="QuantumLib.DiscreteProb.html#sum_over_list"><span class="id" title="definition">sum_over_list</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Lists.List.html#repeat"><span class="id" title="definition">repeat</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#x:192"><span class="id" title="variable">x</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#m:191"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Raxioms.html#INR"><span class="id" title="definition">INR</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#m:191"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">×</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#x:192"><span class="id" title="variable">x</span></a>)%<span class="id" title="var">R</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sample_uniform" class="idref" href="#sample_uniform"><span class="id" title="lemma">sample_uniform</span></a> : <span class="id" title="keyword">∀</span> <a id="l:193" class="idref" href="#l:193"><span class="id" title="binder">l</span></a> <a id="u:194" class="idref" href="#u:194"><span class="id" title="binder">u</span></a> <a id="r:195" class="idref" href="#r:195"><span class="id" title="binder">r</span></a>, <br/>
&nbsp;&nbsp;(<a class="idref" href="QuantumLib.DiscreteProb.html#l:193"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#u:194"><span class="id" title="variable">u</span></a>)%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#b6aaeb1973f5e630a6779ff194ed22e3"><span class="id" title="notation">≤</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r:195"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#b6aaeb1973f5e630a6779ff194ed22e3"><span class="id" title="notation">&lt;</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#l:193"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Peano.html#ea090076ab3dcdee0cfd3882c88b993f"><span class="id" title="notation">≤</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#sample"><span class="id" title="definition">sample</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#uniform"><span class="id" title="definition">uniform</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:193"><span class="id" title="variable">l</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#u:194"><span class="id" title="variable">u</span></a>) <a class="idref" href="QuantumLib.DiscreteProb.html#r:195"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Peano.html#ea090076ab3dcdee0cfd3882c88b993f"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#u:194"><span class="id" title="variable">u</span></a>)%<span class="id" title="var">nat</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="distribution_uniform" class="idref" href="#distribution_uniform"><span class="id" title="lemma">distribution_uniform</span></a> : <span class="id" title="keyword">∀</span> <a id="l:202" class="idref" href="#l:202"><span class="id" title="binder">l</span></a> <a id="r:203" class="idref" href="#r:203"><span class="id" title="binder">r</span></a>,<br/>
&nbsp;&nbsp;(<a class="idref" href="QuantumLib.DiscreteProb.html#l:202"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r:203"><span class="id" title="variable">r</span></a>)%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#distribution"><span class="id" title="definition">distribution</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#uniform"><span class="id" title="definition">uniform</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:202"><span class="id" title="variable">l</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r:203"><span class="id" title="variable">r</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="length_uniform" class="idref" href="#length_uniform"><span class="id" title="lemma">length_uniform</span></a> : <span class="id" title="keyword">∀</span> <a id="l:204" class="idref" href="#l:204"><span class="id" title="binder">l</span></a> <a id="r:205" class="idref" href="#r:205"><span class="id" title="binder">r</span></a>, (<a class="idref" href="QuantumLib.DiscreteProb.html#l:204"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r:205"><span class="id" title="variable">r</span></a>)%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#uniform"><span class="id" title="definition">uniform</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:204"><span class="id" title="variable">l</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r:205"><span class="id" title="variable">r</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r:205"><span class="id" title="variable">r</span></a>)%<span class="id" title="var">nat</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab9"></a><h1 class="section">Joint distribution</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="scale" class="idref" href="#scale"><span class="id" title="definition">scale</span></a> <a id="r:206" class="idref" href="#r:206"><span class="id" title="binder">r</span></a> <a id="l:207" class="idref" href="#l:207"><span class="id" title="binder">l</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="QuantumLib.DiscreteProb.html#l:207"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">h</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">t</span> ⇒ (<a class="idref" href="QuantumLib.DiscreteProb.html#r:206"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">×</span></a> <span class="id" title="var">h</span>)%<span class="id" title="var">R</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#scale:208"><span class="id" title="definition">scale</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r:206"><span class="id" title="variable">r</span></a> <span class="id" title="var">t</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Combine distributions l1 and l2, where l2 may depend on the value of l1 
</div>
<div class="code">
<span class="id" title="keyword">Fixpoint</span> <a id="join'" class="idref" href="#join'"><span class="id" title="definition">join'</span></a> <a id="l1:210" class="idref" href="#l1:210"><span class="id" title="binder">l1</span></a> <a id="l2:211" class="idref" href="#l2:211"><span class="id" title="binder">l2</span></a> <a id="n:212" class="idref" href="#n:212"><span class="id" title="binder">n</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="QuantumLib.DiscreteProb.html#n:212"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n'</span> ⇒ <a class="idref" href="QuantumLib.DiscreteProb.html#join':213"><span class="id" title="definition">join'</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l1:210"><span class="id" title="variable">l1</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l2:211"><span class="id" title="variable">l2</span></a> <span class="id" title="var">n'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#scale"><span class="id" title="definition">scale</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <span class="id" title="var">n'</span> <a class="idref" href="QuantumLib.DiscreteProb.html#l1:210"><span class="id" title="variable">l1</span></a> 0) (<a class="idref" href="QuantumLib.DiscreteProb.html#l2:211"><span class="id" title="variable">l2</span></a> <span class="id" title="var">n'</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Definition</span> <a id="join" class="idref" href="#join"><span class="id" title="definition">join</span></a> <a id="l1:215" class="idref" href="#l1:215"><span class="id" title="binder">l1</span></a> <a id="l2:216" class="idref" href="#l2:216"><span class="id" title="binder">l2</span></a> := <a class="idref" href="QuantumLib.DiscreteProb.html#join'"><span class="id" title="definition">join'</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l1:215"><span class="id" title="variable">l1</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l2:216"><span class="id" title="variable">l2</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l1:215"><span class="id" title="variable">l1</span></a>).<br/>

<br/>
</div>

<div class="doc">
Given a nat consisting of (n+m) bits, extract the first n or last m.
   Example application: when sampling from (join l1 l2) where |l1|=n and 
   |l2|=m, you can use fst and snd to split the result. 
</div>
<div class="code">
&nbsp;<span class="id" title="keyword">Definition</span> <a id="fst" class="idref" href="#fst"><span class="id" title="definition">fst</span></a> (<a id="m:217" class="idref" href="#m:217"><span class="id" title="binder">m</span></a> <a id="x:218" class="idref" href="#x:218"><span class="id" title="binder">x</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) := (<a class="idref" href="QuantumLib.DiscreteProb.html#x:218"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Arith.PeanoNat.html#2e0d8202c5a48097752d760d3a1db6a7"><span class="id" title="notation">/</span></a> 2 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Arith.PeanoNat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">^</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#m:217"><span class="id" title="variable">m</span></a>)%<span class="id" title="var">nat</span>.<br/>
&nbsp;<span class="id" title="keyword">Definition</span> <a id="snd" class="idref" href="#snd"><span class="id" title="definition">snd</span></a> (<a id="m:219" class="idref" href="#m:219"><span class="id" title="binder">m</span></a> <a id="x:220" class="idref" href="#x:220"><span class="id" title="binder">x</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a>) := (<a class="idref" href="QuantumLib.DiscreteProb.html#x:220"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Arith.PeanoNat.html#::nat_scope:x_'mod'_x"><span class="id" title="notation">mod</span></a> 2 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Arith.PeanoNat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">^</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#m:219"><span class="id" title="variable">m</span></a>)%<span class="id" title="var">nat</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="fst_0" class="idref" href="#fst_0"><span class="id" title="lemma">fst_0</span></a> : <span class="id" title="keyword">∀</span> <a id="m:221" class="idref" href="#m:221"><span class="id" title="binder">m</span></a>, <a class="idref" href="QuantumLib.DiscreteProb.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#m:221"><span class="id" title="variable">m</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="fst_plus" class="idref" href="#fst_plus"><span class="id" title="lemma">fst_plus</span></a> : <span class="id" title="keyword">∀</span> <a id="m:222" class="idref" href="#m:222"><span class="id" title="binder">m</span></a> <a id="x:223" class="idref" href="#x:223"><span class="id" title="binder">x</span></a>, <a class="idref" href="QuantumLib.DiscreteProb.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#m:222"><span class="id" title="variable">m</span></a> (2 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Arith.PeanoNat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">^</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#m:222"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#x:223"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#m:222"><span class="id" title="variable">m</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#x:223"><span class="id" title="variable">x</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="fst_small" class="idref" href="#fst_small"><span class="id" title="lemma">fst_small</span></a> : <span class="id" title="keyword">∀</span> <a id="m:224" class="idref" href="#m:224"><span class="id" title="binder">m</span></a> <a id="x:225" class="idref" href="#x:225"><span class="id" title="binder">x</span></a>, (<a class="idref" href="QuantumLib.DiscreteProb.html#x:225"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> 2 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Arith.PeanoNat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">^</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#m:224"><span class="id" title="variable">m</span></a>)%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#m:224"><span class="id" title="variable">m</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#x:225"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a>.<br/>
 
<br/>
<span class="id" title="keyword">Lemma</span> <a id="snd_0" class="idref" href="#snd_0"><span class="id" title="lemma">snd_0</span></a> : <span class="id" title="keyword">∀</span> <a id="m:226" class="idref" href="#m:226"><span class="id" title="binder">m</span></a>, <a class="idref" href="QuantumLib.DiscreteProb.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#m:226"><span class="id" title="variable">m</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="snd_small" class="idref" href="#snd_small"><span class="id" title="lemma">snd_small</span></a> : <span class="id" title="keyword">∀</span> <a id="m:227" class="idref" href="#m:227"><span class="id" title="binder">m</span></a> <a id="x:228" class="idref" href="#x:228"><span class="id" title="binder">x</span></a>, (<a class="idref" href="QuantumLib.DiscreteProb.html#x:228"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> 2 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Arith.PeanoNat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">^</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#m:227"><span class="id" title="variable">m</span></a>)%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#m:227"><span class="id" title="variable">m</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#x:228"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#x:228"><span class="id" title="variable">x</span></a>.<br/>
 
<br/>
<span class="id" title="keyword">Lemma</span> <a id="snd_plus" class="idref" href="#snd_plus"><span class="id" title="lemma">snd_plus</span></a> : <span class="id" title="keyword">∀</span> <a id="m:229" class="idref" href="#m:229"><span class="id" title="binder">m</span></a> <a id="x:230" class="idref" href="#x:230"><span class="id" title="binder">x</span></a>, <a class="idref" href="QuantumLib.DiscreteProb.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#m:229"><span class="id" title="variable">m</span></a> (2 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Arith.PeanoNat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">^</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#m:229"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#x:230"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#m:229"><span class="id" title="variable">m</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#x:230"><span class="id" title="variable">x</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="simplify_fst" class="idref" href="#simplify_fst"><span class="id" title="lemma">simplify_fst</span></a> : <span class="id" title="keyword">∀</span> <a id="n:231" class="idref" href="#n:231"><span class="id" title="binder">n</span></a> <a id="x:232" class="idref" href="#x:232"><span class="id" title="binder">x</span></a> <a id="y:233" class="idref" href="#y:233"><span class="id" title="binder">y</span></a>,<br/>
&nbsp;&nbsp;(<a class="idref" href="QuantumLib.DiscreteProb.html#y:233"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> 2 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Arith.PeanoNat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">^</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#n:231"><span class="id" title="variable">n</span></a>)%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#n:231"><span class="id" title="variable">n</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#x:232"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Peano.html#ea2ff3d561159081cea6fb2e8113cc54"><span class="id" title="notation">×</span></a> 2 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Arith.PeanoNat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">^</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#n:231"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#y:233"><span class="id" title="variable">y</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#x:232"><span class="id" title="variable">x</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="simplify_snd" class="idref" href="#simplify_snd"><span class="id" title="lemma">simplify_snd</span></a> : <span class="id" title="keyword">∀</span> <a id="n:234" class="idref" href="#n:234"><span class="id" title="binder">n</span></a> <a id="x:235" class="idref" href="#x:235"><span class="id" title="binder">x</span></a> <a id="y:236" class="idref" href="#y:236"><span class="id" title="binder">y</span></a>,<br/>
&nbsp;&nbsp;(<a class="idref" href="QuantumLib.DiscreteProb.html#y:236"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> 2 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Arith.PeanoNat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">^</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#n:234"><span class="id" title="variable">n</span></a>)%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#n:234"><span class="id" title="variable">n</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#x:235"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Peano.html#ea2ff3d561159081cea6fb2e8113cc54"><span class="id" title="notation">×</span></a> 2 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Arith.PeanoNat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">^</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#n:234"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#y:236"><span class="id" title="variable">y</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#y:236"><span class="id" title="variable">y</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sum_over_list_scale" class="idref" href="#sum_over_list_scale"><span class="id" title="lemma">sum_over_list_scale</span></a> : <span class="id" title="keyword">∀</span> <a id="x:237" class="idref" href="#x:237"><span class="id" title="binder">x</span></a> <a id="l:238" class="idref" href="#l:238"><span class="id" title="binder">l</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#sum_over_list"><span class="id" title="definition">sum_over_list</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#scale"><span class="id" title="definition">scale</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#x:237"><span class="id" title="variable">x</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:238"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#x:237"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">×</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#sum_over_list"><span class="id" title="definition">sum_over_list</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:238"><span class="id" title="variable">l</span></a>)%<span class="id" title="var">R</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sum_over_list_firstn" class="idref" href="#sum_over_list_firstn"><span class="id" title="lemma">sum_over_list_firstn</span></a> : <span class="id" title="keyword">∀</span> <a id="n:239" class="idref" href="#n:239"><span class="id" title="binder">n</span></a> <a id="l:240" class="idref" href="#l:240"><span class="id" title="binder">l</span></a>, (<a class="idref" href="QuantumLib.DiscreteProb.html#n:239"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:240"><span class="id" title="variable">l</span></a>)%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#sum_over_list"><span class="id" title="definition">sum_over_list</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Lists.List.html#firstn"><span class="id" title="definition">firstn</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#n:239"><span class="id" title="variable">n</span></a>) <a class="idref" href="QuantumLib.DiscreteProb.html#l:240"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#sum_over_list"><span class="id" title="definition">sum_over_list</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Lists.List.html#firstn"><span class="id" title="definition">firstn</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#n:239"><span class="id" title="variable">n</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:240"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#n:239"><span class="id" title="variable">n</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:240"><span class="id" title="variable">l</span></a> 0)%<span class="id" title="var">R</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Forall_scale_geq" class="idref" href="#Forall_scale_geq"><span class="id" title="lemma">Forall_scale_geq</span></a> : <span class="id" title="keyword">∀</span> <a id="a:241" class="idref" href="#a:241"><span class="id" title="binder">a</span></a> <a id="l:242" class="idref" href="#l:242"><span class="id" title="binder">l</span></a>,<br/>
&nbsp;&nbsp;(0 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">≤</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#a:241"><span class="id" title="variable">a</span></a>)%<span class="id" title="var">R</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="x:243" class="idref" href="#x:243"><span class="id" title="binder">x</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a> ⇒ 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">≤</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#x:243"><span class="id" title="variable">x</span></a>) <a class="idref" href="QuantumLib.DiscreteProb.html#l:242"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="x:244" class="idref" href="#x:244"><span class="id" title="binder">x</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a> ⇒ 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">≤</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#x:244"><span class="id" title="variable">x</span></a>) (<a class="idref" href="QuantumLib.DiscreteProb.html#scale"><span class="id" title="definition">scale</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#a:241"><span class="id" title="variable">a</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:242"><span class="id" title="variable">l</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="join_geq_0" class="idref" href="#join_geq_0"><span class="id" title="lemma">join_geq_0</span></a> : <span class="id" title="keyword">∀</span> <a id="l1:245" class="idref" href="#l1:245"><span class="id" title="binder">l1</span></a> <a id="l2:246" class="idref" href="#l2:246"><span class="id" title="binder">l2</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="x:247" class="idref" href="#x:247"><span class="id" title="binder">x</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a> ⇒ 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">≤</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#x:247"><span class="id" title="variable">x</span></a>) <a class="idref" href="QuantumLib.DiscreteProb.html#l1:245"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="i:248" class="idref" href="#i:248"><span class="id" title="binder">i</span></a>, (<a class="idref" href="QuantumLib.DiscreteProb.html#i:248"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l1:245"><span class="id" title="variable">l1</span></a>)%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="x:249" class="idref" href="#x:249"><span class="id" title="binder">x</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a> ⇒ 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">≤</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#x:249"><span class="id" title="variable">x</span></a>) (<a class="idref" href="QuantumLib.DiscreteProb.html#l2:246"><span class="id" title="variable">l2</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#i:248"><span class="id" title="variable">i</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="x:250" class="idref" href="#x:250"><span class="id" title="binder">x</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a> ⇒ 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">≤</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#x:250"><span class="id" title="variable">x</span></a>) (<a class="idref" href="QuantumLib.DiscreteProb.html#join"><span class="id" title="definition">join</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l1:245"><span class="id" title="variable">l1</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l2:246"><span class="id" title="variable">l2</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="distribution_join" class="idref" href="#distribution_join"><span class="id" title="lemma">distribution_join</span></a> : <span class="id" title="keyword">∀</span> <a id="l1:255" class="idref" href="#l1:255"><span class="id" title="binder">l1</span></a> <a id="l2:256" class="idref" href="#l2:256"><span class="id" title="binder">l2</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#distribution"><span class="id" title="definition">distribution</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l1:255"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="i:257" class="idref" href="#i:257"><span class="id" title="binder">i</span></a>, (<a class="idref" href="QuantumLib.DiscreteProb.html#i:257"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l1:255"><span class="id" title="variable">l1</span></a>)%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#distribution"><span class="id" title="definition">distribution</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#l2:256"><span class="id" title="variable">l2</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#i:257"><span class="id" title="variable">i</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#distribution"><span class="id" title="definition">distribution</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#join"><span class="id" title="definition">join</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l1:255"><span class="id" title="variable">l1</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l2:256"><span class="id" title="variable">l2</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="join_cons" class="idref" href="#join_cons"><span class="id" title="lemma">join_cons</span></a> : <span class="id" title="keyword">∀</span> <a id="x:266" class="idref" href="#x:266"><span class="id" title="binder">x</span></a> <a id="l1:267" class="idref" href="#l1:267"><span class="id" title="binder">l1</span></a> <a id="l2:268" class="idref" href="#l2:268"><span class="id" title="binder">l2</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#join"><span class="id" title="definition">join</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#x:266"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l1:267"><span class="id" title="variable">l1</span></a>) <a class="idref" href="QuantumLib.DiscreteProb.html#l2:268"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#scale"><span class="id" title="definition">scale</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#x:266"><span class="id" title="variable">x</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#l2:268"><span class="id" title="variable">l2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#join"><span class="id" title="definition">join</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l1:267"><span class="id" title="variable">l1</span></a> (<a class="idref" href="QuantumLib.VectorStates.html#shift"><span class="id" title="definition">shift</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l2:268"><span class="id" title="variable">l2</span></a> 1).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="length_scale" class="idref" href="#length_scale"><span class="id" title="lemma">length_scale</span></a> : <span class="id" title="keyword">∀</span> <a id="a:271" class="idref" href="#a:271"><span class="id" title="binder">a</span></a> <a id="l:272" class="idref" href="#l:272"><span class="id" title="binder">l</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#scale"><span class="id" title="definition">scale</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#a:271"><span class="id" title="variable">a</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:272"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:272"><span class="id" title="variable">l</span></a>.<br/>

<br/>
</div>

<div class="doc">
Sampling from (join l1 l2) where |l1|=n and |l2|=m and taking the first 
    n bits of the result is the same as sampling directly from l1. 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="fst_sample_join" class="idref" href="#fst_sample_join"><span class="id" title="lemma">fst_sample_join</span></a> : <span class="id" title="keyword">∀</span> <a id="l1:273" class="idref" href="#l1:273"><span class="id" title="binder">l1</span></a> <a id="l2:274" class="idref" href="#l2:274"><span class="id" title="binder">l2</span></a> <a id="rnd:275" class="idref" href="#rnd:275"><span class="id" title="binder">rnd</span></a> <a id="m:276" class="idref" href="#m:276"><span class="id" title="binder">m</span></a>,<br/>
&nbsp;&nbsp;0 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">≤</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rnd:275"><span class="id" title="variable">rnd</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="x:277" class="idref" href="#x:277"><span class="id" title="binder">x</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a> ⇒ 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">≤</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#x:277"><span class="id" title="variable">x</span></a>) <a class="idref" href="QuantumLib.DiscreteProb.html#l1:273"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;(<span class="id" title="keyword">∀</span> <a id="k:278" class="idref" href="#k:278"><span class="id" title="binder">k</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#l2:274"><span class="id" title="variable">l2</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#k:278"><span class="id" title="variable">k</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> 2 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Arith.PeanoNat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">^</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#m:276"><span class="id" title="variable">m</span></a>)%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="k:279" class="idref" href="#k:279"><span class="id" title="binder">k</span></a>, (<a class="idref" href="QuantumLib.DiscreteProb.html#k:279"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l1:273"><span class="id" title="variable">l1</span></a>)%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#distribution"><span class="id" title="definition">distribution</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#l2:274"><span class="id" title="variable">l2</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#k:279"><span class="id" title="variable">k</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#m:276"><span class="id" title="variable">m</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#sample"><span class="id" title="definition">sample</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#join"><span class="id" title="definition">join</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l1:273"><span class="id" title="variable">l1</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l2:274"><span class="id" title="variable">l2</span></a>) <a class="idref" href="QuantumLib.DiscreteProb.html#rnd:275"><span class="id" title="variable">rnd</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#sample"><span class="id" title="definition">sample</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l1:273"><span class="id" title="variable">l1</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rnd:275"><span class="id" title="variable">rnd</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="sample_scale" class="idref" href="#sample_scale"><span class="id" title="lemma">sample_scale</span></a> : <span class="id" title="keyword">∀</span> <a id="a:280" class="idref" href="#a:280"><span class="id" title="binder">a</span></a> <a id="l:281" class="idref" href="#l:281"><span class="id" title="binder">l</span></a> <a id="rnd:282" class="idref" href="#rnd:282"><span class="id" title="binder">rnd</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#a:280"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'&gt;'_x"><span class="id" title="notation">&gt;</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#sample"><span class="id" title="definition">sample</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#scale"><span class="id" title="definition">scale</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#a:280"><span class="id" title="variable">a</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:281"><span class="id" title="variable">l</span></a>) <a class="idref" href="QuantumLib.DiscreteProb.html#rnd:282"><span class="id" title="variable">rnd</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#sample"><span class="id" title="definition">sample</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:281"><span class="id" title="variable">l</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#rnd:282"><span class="id" title="variable">rnd</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">/</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#a:280"><span class="id" title="variable">a</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="compute_new_rnd" class="idref" href="#compute_new_rnd"><span class="id" title="definition">compute_new_rnd</span></a> <a id="rnd:283" class="idref" href="#rnd:283"><span class="id" title="binder">rnd</span></a> <a id="l:284" class="idref" href="#l:284"><span class="id" title="binder">l</span></a> <a id="o:285" class="idref" href="#o:285"><span class="id" title="binder">o</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a> := <br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">(</span></a><a class="idref" href="QuantumLib.DiscreteProb.html#rnd:283"><span class="id" title="variable">rnd</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#::R_scope:x_'-'_x"><span class="id" title="notation">-</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#sum_over_list"><span class="id" title="definition">sum_over_list</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Lists.List.html#firstn"><span class="id" title="definition">firstn</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#o:285"><span class="id" title="variable">o</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:284"><span class="id" title="variable">l</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#3942bfc45fbeaeee49010b741755982b"><span class="id" title="notation">/</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#o:285"><span class="id" title="variable">o</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:284"><span class="id" title="variable">l</span></a> 0.<br/>

<br/>
</div>

<div class="doc">
Sampling from (join l1 l2) where |l1|=n and |l2|=m and taking the last 
    m bits of the result is the same as sampling from l1 and, based on the
    the outcome o, sampling from (l2 o). 
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="snd_sample_join" class="idref" href="#snd_sample_join"><span class="id" title="lemma">snd_sample_join</span></a> : <span class="id" title="keyword">∀</span> <a id="l1:286" class="idref" href="#l1:286"><span class="id" title="binder">l1</span></a> <a id="l2:287" class="idref" href="#l2:287"><span class="id" title="binder">l2</span></a> <a id="rnd:288" class="idref" href="#rnd:288"><span class="id" title="binder">rnd</span></a> <a id="m:289" class="idref" href="#m:289"><span class="id" title="binder">m</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;0 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#b6aaeb1973f5e630a6779ff194ed22e3"><span class="id" title="notation">≤</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rnd:288"><span class="id" title="variable">rnd</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#b6aaeb1973f5e630a6779ff194ed22e3"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#sum_over_list"><span class="id" title="definition">sum_over_list</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l1:286"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="x:290" class="idref" href="#x:290"><span class="id" title="binder">x</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a> ⇒ 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">≤</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#x:290"><span class="id" title="variable">x</span></a>) <a class="idref" href="QuantumLib.DiscreteProb.html#l1:286"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="k:291" class="idref" href="#k:291"><span class="id" title="binder">k</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#l2:287"><span class="id" title="variable">l2</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#k:291"><span class="id" title="variable">k</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> (2 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Arith.PeanoNat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">^</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#m:289"><span class="id" title="variable">m</span></a>)%<span class="id" title="var">nat</span><a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="k:292" class="idref" href="#k:292"><span class="id" title="binder">k</span></a>, (<a class="idref" href="QuantumLib.DiscreteProb.html#k:292"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l1:286"><span class="id" title="variable">l1</span></a>)%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#distribution"><span class="id" title="definition">distribution</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#l2:287"><span class="id" title="variable">l2</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#k:292"><span class="id" title="variable">k</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="o:293" class="idref" href="#o:293"><span class="id" title="binder">o</span></a> := <a class="idref" href="QuantumLib.DiscreteProb.html#sample"><span class="id" title="definition">sample</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l1:286"><span class="id" title="variable">l1</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rnd:288"><span class="id" title="variable">rnd</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="rnd':294" class="idref" href="#rnd':294"><span class="id" title="binder">rnd'</span></a> := <a class="idref" href="QuantumLib.DiscreteProb.html#compute_new_rnd"><span class="id" title="definition">compute_new_rnd</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rnd:288"><span class="id" title="variable">rnd</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l1:286"><span class="id" title="variable">l1</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#o:293"><span class="id" title="variable">o</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#m:289"><span class="id" title="variable">m</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#sample"><span class="id" title="definition">sample</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#join"><span class="id" title="definition">join</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l1:286"><span class="id" title="variable">l1</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l2:287"><span class="id" title="variable">l2</span></a>) <a class="idref" href="QuantumLib.DiscreteProb.html#rnd:288"><span class="id" title="variable">rnd</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#sample"><span class="id" title="definition">sample</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#l2:287"><span class="id" title="variable">l2</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#o:293"><span class="id" title="variable">o</span></a>) <a class="idref" href="QuantumLib.DiscreteProb.html#rnd':294"><span class="id" title="variable">rnd'</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="pr_outcome_sum_scale" class="idref" href="#pr_outcome_sum_scale"><span class="id" title="lemma">pr_outcome_sum_scale</span></a> : <span class="id" title="keyword">∀</span> <a id="a:295" class="idref" href="#a:295"><span class="id" title="binder">a</span></a> <a id="l:296" class="idref" href="#l:296"><span class="id" title="binder">l</span></a> <a id="f:297" class="idref" href="#f:297"><span class="id" title="binder">f</span></a>, <br/>
&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#pr_outcome_sum"><span class="id" title="definition">pr_outcome_sum</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#scale"><span class="id" title="definition">scale</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#a:295"><span class="id" title="variable">a</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:296"><span class="id" title="variable">l</span></a>) <a class="idref" href="QuantumLib.DiscreteProb.html#f:297"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#a:295"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">×</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#pr_outcome_sum"><span class="id" title="definition">pr_outcome_sum</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:296"><span class="id" title="variable">l</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#f:297"><span class="id" title="variable">f</span></a>)%<span class="id" title="var">R</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="length_join'" class="idref" href="#length_join'"><span class="id" title="lemma">length_join'</span></a> : <span class="id" title="keyword">∀</span> <a id="x:298" class="idref" href="#x:298"><span class="id" title="binder">x</span></a> <a id="l1:299" class="idref" href="#l1:299"><span class="id" title="binder">l1</span></a> <a id="l2:300" class="idref" href="#l2:300"><span class="id" title="binder">l2</span></a> <a id="m:301" class="idref" href="#m:301"><span class="id" title="binder">m</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="k:302" class="idref" href="#k:302"><span class="id" title="binder">k</span></a>, (<a class="idref" href="QuantumLib.DiscreteProb.html#k:302"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#x:298"><span class="id" title="variable">x</span></a>)%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#l2:300"><span class="id" title="variable">l2</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#k:302"><span class="id" title="variable">k</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#m:301"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#join'"><span class="id" title="definition">join'</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l1:299"><span class="id" title="variable">l1</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l2:300"><span class="id" title="variable">l2</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#x:298"><span class="id" title="variable">x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#x:298"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Peano.html#ea2ff3d561159081cea6fb2e8113cc54"><span class="id" title="notation">×</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#m:301"><span class="id" title="variable">m</span></a>)%<span class="id" title="var">nat</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="pr_outcome_sum_firstn" class="idref" href="#pr_outcome_sum_firstn"><span class="id" title="lemma">pr_outcome_sum_firstn</span></a> : <span class="id" title="keyword">∀</span> <a id="n:303" class="idref" href="#n:303"><span class="id" title="binder">n</span></a> <a id="l:304" class="idref" href="#l:304"><span class="id" title="binder">l</span></a> <a id="f:305" class="idref" href="#f:305"><span class="id" title="binder">f</span></a>, <br/>
&nbsp;&nbsp;(<a class="idref" href="QuantumLib.DiscreteProb.html#n:303"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:304"><span class="id" title="variable">l</span></a>)%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#pr_outcome_sum"><span class="id" title="definition">pr_outcome_sum</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Lists.List.html#firstn"><span class="id" title="definition">firstn</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#n:303"><span class="id" title="variable">n</span></a>) <a class="idref" href="QuantumLib.DiscreteProb.html#l:304"><span class="id" title="variable">l</span></a>) <a class="idref" href="QuantumLib.DiscreteProb.html#f:305"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">(</span></a><span class="id" title="keyword">if</span> <a class="idref" href="QuantumLib.DiscreteProb.html#f:305"><span class="id" title="variable">f</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#n:303"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Lists.List.html#nth"><span class="id" title="definition">nth</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#n:303"><span class="id" title="variable">n</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:304"><span class="id" title="variable">l</span></a> 0 <span class="id" title="keyword">else</span> 0<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#3e57074ab0a6a36b253e873a1bdac6ad"><span class="id" title="notation">+</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#pr_outcome_sum"><span class="id" title="definition">pr_outcome_sum</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Lists.List.html#firstn"><span class="id" title="definition">firstn</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#n:303"><span class="id" title="variable">n</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l:304"><span class="id" title="variable">l</span></a>) <a class="idref" href="QuantumLib.DiscreteProb.html#f:305"><span class="id" title="variable">f</span></a>)%<span class="id" title="var">R</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Local Opaque</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Lists.List.html#firstn"><span class="id" title="definition">firstn</span></a>.<br/>

<br/>
</div>

<div class="doc">
If the probability of f1 in distr1(=l1) is r1 and the probability of 
   f2 in distr2(=l2) is r2, then the probability of f1&amp;f2 in (join l1 l2)
   is r1 * r2. 
</div>
<div class="code">
<span class="id" title="keyword">Local Transparent</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Lists.List.html#firstn"><span class="id" title="definition">firstn</span></a>.<br/>
<span class="id" title="keyword">Lemma</span> <a id="pr_outcome_sum_join_geq" class="idref" href="#pr_outcome_sum_join_geq"><span class="id" title="lemma">pr_outcome_sum_join_geq</span></a> : <span class="id" title="keyword">∀</span> <a id="l1:314" class="idref" href="#l1:314"><span class="id" title="binder">l1</span></a> <a id="l2:315" class="idref" href="#l2:315"><span class="id" title="binder">l2</span></a> <a id="f1:316" class="idref" href="#f1:316"><span class="id" title="binder">f1</span></a> <a id="f2:317" class="idref" href="#f2:317"><span class="id" title="binder">f2</span></a> <a id="r1:318" class="idref" href="#r1:318"><span class="id" title="binder">r1</span></a> <a id="r2:319" class="idref" href="#r2:319"><span class="id" title="binder">r2</span></a> <a id="n:320" class="idref" href="#n:320"><span class="id" title="binder">n</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#distribution"><span class="id" title="definition">distribution</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l1:314"><span class="id" title="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;(0 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#77d341fe206b2891763e25999ffddca2"><span class="id" title="notation">≤</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r2:319"><span class="id" title="variable">r2</span></a>)%<span class="id" title="var">R</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#pr_outcome_sum"><span class="id" title="definition">pr_outcome_sum</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l1:314"><span class="id" title="variable">l1</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#f1:316"><span class="id" title="variable">f1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#7822f196a19e8673dbc60a529f728eb7"><span class="id" title="notation">≥</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r1:318"><span class="id" title="variable">r1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="i:321" class="idref" href="#i:321"><span class="id" title="binder">i</span></a>, (<a class="idref" href="QuantumLib.DiscreteProb.html#i:321"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Peano.html#::nat_scope:x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l1:314"><span class="id" title="variable">l1</span></a>)%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#l2:315"><span class="id" title="variable">l2</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#i:321"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> (2 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Arith.PeanoNat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">^</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#n:320"><span class="id" title="variable">n</span></a>)%<span class="id" title="var">nat</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#pr_outcome_sum"><span class="id" title="definition">pr_outcome_sum</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#l2:315"><span class="id" title="variable">l2</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#i:321"><span class="id" title="variable">i</span></a>) (<a class="idref" href="QuantumLib.DiscreteProb.html#f2:317"><span class="id" title="variable">f2</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#i:321"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#7822f196a19e8673dbc60a529f728eb7"><span class="id" title="notation">≥</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r2:319"><span class="id" title="variable">r2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="f1f2:325" class="idref" href="#f1f2:325"><span class="id" title="binder">f1f2</span></a> <a id="z:322" class="idref" href="#z:322"><span class="id" title="binder">z</span></a> := (<span class="id" title="keyword">let</span> <a id="x:323" class="idref" href="#x:323"><span class="id" title="binder">x</span></a> := <a class="idref" href="QuantumLib.DiscreteProb.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#n:320"><span class="id" title="variable">n</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#z:322"><span class="id" title="variable">z</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="y:324" class="idref" href="#y:324"><span class="id" title="binder">y</span></a> := <a class="idref" href="QuantumLib.DiscreteProb.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#n:320"><span class="id" title="variable">n</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#z:322"><span class="id" title="variable">z</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#f1:316"><span class="id" title="variable">f1</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#x:323"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#::bool_scope:x_'&amp;&amp;'_x"><span class="id" title="notation">&amp;&amp;</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#f2:317"><span class="id" title="variable">f2</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#x:323"><span class="id" title="variable">x</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#y:324"><span class="id" title="variable">y</span></a>) <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#pr_outcome_sum"><span class="id" title="definition">pr_outcome_sum</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#join"><span class="id" title="definition">join</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l1:314"><span class="id" title="variable">l1</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#l2:315"><span class="id" title="variable">l2</span></a>) <a class="idref" href="QuantumLib.DiscreteProb.html#f1f2:325"><span class="id" title="variable">f1f2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#7822f196a19e8673dbc60a529f728eb7"><span class="id" title="notation">≥</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#r1:318"><span class="id" title="variable">r1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">×</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r2:319"><span class="id" title="variable">r2</span></a>)%<span class="id" title="var">R</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="rewrite_pr_outcome_sum" class="idref" href="#rewrite_pr_outcome_sum"><span class="id" title="lemma">rewrite_pr_outcome_sum</span></a> : <span class="id" title="keyword">∀</span> <a id="n:328" class="idref" href="#n:328"><span class="id" title="binder">n</span></a> <a id="k:329" class="idref" href="#k:329"><span class="id" title="binder">k</span></a> (<a id="u:330" class="idref" href="#u:330"><span class="id" title="binder">u</span></a> : <a class="idref" href="QuantumLib.Matrix.html#Square"><span class="id" title="abbreviation">Square</span></a> (2 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Arith.PeanoNat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">^</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Arith.PeanoNat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">(</span></a><a class="idref" href="QuantumLib.DiscreteProb.html#n:328"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#k:329"><span class="id" title="variable">k</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Arith.PeanoNat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">)</span></a>)) <a id="f:331" class="idref" href="#f:331"><span class="id" title="binder">f</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="QuantumLib.Matrix.html#WF_Matrix"><span class="id" title="definition">WF_Matrix</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#u:330"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#pr_outcome_sum"><span class="id" title="definition">pr_outcome_sum</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#apply_u"><span class="id" title="definition">apply_u</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#u:330"><span class="id" title="variable">u</span></a>) (<span class="id" title="keyword">fun</span> <a id="x:332" class="idref" href="#x:332"><span class="id" title="binder">x</span></a> ⇒ <a class="idref" href="QuantumLib.DiscreteProb.html#f:331"><span class="id" title="variable">f</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#k:329"><span class="id" title="variable">k</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#x:332"><span class="id" title="variable">x</span></a>)) <br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="QuantumLib.Summation.html#big_sum"><span class="id" title="definition">big_sum</span></a> (<span class="id" title="keyword">fun</span> <a id="x:333" class="idref" href="#x:333"><span class="id" title="binder">x</span></a> ⇒ (<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">(</span></a><span class="id" title="keyword">if</span> <a class="idref" href="QuantumLib.DiscreteProb.html#f:331"><span class="id" title="variable">f</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#x:333"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">then</span> 1 <span class="id" title="keyword">else</span> 0<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">×</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="QuantumLib.Measurement.html#prob_partial_meas"><span class="id" title="definition">prob_partial_meas</span></a> (<a class="idref" href="QuantumLib.VectorStates.html#basis_vector"><span class="id" title="definition">basis_vector</span></a> (2 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Arith.PeanoNat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">^</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#n:328"><span class="id" title="variable">n</span></a>) <a class="idref" href="QuantumLib.DiscreteProb.html#x:333"><span class="id" title="variable">x</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="QuantumLib.DiscreteProb.html#u:330"><span class="id" title="variable">u</span></a> <a class="idref" href="QuantumLib.Matrix.html#f26113218b230108636130da4315160b"><span class="id" title="notation">×</span></a> <a class="idref" href="QuantumLib.VectorStates.html#basis_vector"><span class="id" title="definition">basis_vector</span></a> (2 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Arith.PeanoNat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">^</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Arith.PeanoNat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">(</span></a><a class="idref" href="QuantumLib.DiscreteProb.html#n:328"><span class="id" title="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#k:329"><span class="id" title="variable">k</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Arith.PeanoNat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">)</span></a>) 0))%<span class="id" title="var">R</span>) (2 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Arith.PeanoNat.html#81fd94e251a61ee523cdd7855774ae7c"><span class="id" title="notation">^</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#n:328"><span class="id" title="variable">n</span></a>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab10"></a><h1 class="section">Repeat independent runs</h1>

</div>
<div class="code">

<br/>
</div>

<div class="doc">
rnds  : source of randomness for sampling
   niter : max number of iterations
   body  : operation to iterate 
</div>
<div class="code">
<span class="id" title="keyword">Fixpoint</span> <a id="iterate" class="idref" href="#iterate"><span class="id" title="definition">iterate</span></a> {<a id="A:334" class="idref" href="#A:334"><span class="id" title="binder">A</span></a>} (<a id="rnds:335" class="idref" href="#rnds:335"><span class="id" title="binder">rnds</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a>) (<a id="body:336" class="idref" href="#body:336"><span class="id" title="binder">body</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#A:334"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="QuantumLib.DiscreteProb.html#rnds:335"><span class="id" title="variable">rnds</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">rnd</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">rnds'</span> ⇒ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="QuantumLib.DiscreteProb.html#body:336"><span class="id" title="variable">body</span></a> <span class="id" title="var">rnd</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">v</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">v</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="QuantumLib.DiscreteProb.html#iterate:337"><span class="id" title="definition">iterate</span></a> <span class="id" title="var">rnds'</span> <a class="idref" href="QuantumLib.DiscreteProb.html#body:336"><span class="id" title="variable">body</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="iterate_replace_body" class="idref" href="#iterate_replace_body"><span class="id" title="lemma">iterate_replace_body</span></a> : <span class="id" title="keyword">∀</span> {<a id="A:339" class="idref" href="#A:339"><span class="id" title="binder">A</span></a>} <a id="rnds:340" class="idref" href="#rnds:340"><span class="id" title="binder">rnds</span></a> (<a id="body:341" class="idref" href="#body:341"><span class="id" title="binder">body</span></a> <a id="body':342" class="idref" href="#body':342"><span class="id" title="binder">body'</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#A:339"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="r:343" class="idref" href="#r:343"><span class="id" title="binder">r</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a> ⇒ 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#b6aaeb1973f5e630a6779ff194ed22e3"><span class="id" title="notation">≤</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r:343"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#b6aaeb1973f5e630a6779ff194ed22e3"><span class="id" title="notation">&lt;</span></a> 1) <a class="idref" href="QuantumLib.DiscreteProb.html#rnds:340"><span class="id" title="variable">rnds</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="r:344" class="idref" href="#r:344"><span class="id" title="binder">r</span></a>, 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#b6aaeb1973f5e630a6779ff194ed22e3"><span class="id" title="notation">≤</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r:344"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#b6aaeb1973f5e630a6779ff194ed22e3"><span class="id" title="notation">&lt;</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#body:341"><span class="id" title="variable">body</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r:344"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#body':342"><span class="id" title="variable">body'</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r:344"><span class="id" title="variable">r</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#iterate"><span class="id" title="definition">iterate</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rnds:340"><span class="id" title="variable">rnds</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#body:341"><span class="id" title="variable">body</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#iterate"><span class="id" title="definition">iterate</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rnds:340"><span class="id" title="variable">rnds</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#body':342"><span class="id" title="variable">body'</span></a>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="pr_Ps" class="idref" href="#pr_Ps"><span class="id" title="inductive">pr_Ps</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">((</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span><a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a id="pr_Ps_base" class="idref" href="#pr_Ps_base"><span class="id" title="constructor">pr_Ps_base</span></a> : <span class="id" title="keyword">∀</span> (<a id="Ps:347" class="idref" href="#Ps:347"><span class="id" title="binder">Ps</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>), <a class="idref" href="QuantumLib.DiscreteProb.html#Ps:347"><span class="id" title="variable">Ps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#pr_Ps:345"><span class="id" title="inductive">pr_Ps</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#Ps:347"><span class="id" title="variable">Ps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> 1<br/>
| <a id="pr_Ps_rec" class="idref" href="#pr_Ps_rec"><span class="id" title="constructor">pr_Ps_rec</span></a> : <span class="id" title="keyword">∀</span> <a id="Ps:348" class="idref" href="#Ps:348"><span class="id" title="binder">Ps</span></a> <a id="i:349" class="idref" href="#i:349"><span class="id" title="binder">i</span></a> <a id="r1:350" class="idref" href="#r1:350"><span class="id" title="binder">r1</span></a> <a id="P:351" class="idref" href="#P:351"><span class="id" title="binder">P</span></a> <a id="r2:352" class="idref" href="#r2:352"><span class="id" title="binder">r2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#pr_Ps:345"><span class="id" title="inductive">pr_Ps</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#Ps:348"><span class="id" title="variable">Ps</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#i:349"><span class="id" title="variable">i</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r1:350"><span class="id" title="variable">r1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#pr_P"><span class="id" title="definition">pr_P</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#P:351"><span class="id" title="variable">P</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r2:352"><span class="id" title="variable">r2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="rnd:353" class="idref" href="#rnd:353"><span class="id" title="binder">rnd</span></a> <a id="rnds:354" class="idref" href="#rnds:354"><span class="id" title="binder">rnds</span></a>, 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#b6aaeb1973f5e630a6779ff194ed22e3"><span class="id" title="notation">≤</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rnd:353"><span class="id" title="variable">rnd</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#b6aaeb1973f5e630a6779ff194ed22e3"><span class="id" title="notation">&lt;</span></a> 1 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="r:355" class="idref" href="#r:355"><span class="id" title="binder">r</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a> ⇒ 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#b6aaeb1973f5e630a6779ff194ed22e3"><span class="id" title="notation">≤</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r:355"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#b6aaeb1973f5e630a6779ff194ed22e3"><span class="id" title="notation">&lt;</span></a> 1) <a class="idref" href="QuantumLib.DiscreteProb.html#rnds:354"><span class="id" title="variable">rnds</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#Ps:348"><span class="id" title="variable">Ps</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#rnd:353"><span class="id" title="variable">rnd</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rnds:354"><span class="id" title="variable">rnds</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#Ps:348"><span class="id" title="variable">Ps</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rnds:354"><span class="id" title="variable">rnds</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#P:351"><span class="id" title="variable">P</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rnd:353"><span class="id" title="variable">rnd</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#pr_Ps:345"><span class="id" title="inductive">pr_Ps</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#Ps:348"><span class="id" title="variable">Ps</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#i:349"><span class="id" title="variable">i</span></a>) (<a class="idref" href="QuantumLib.DiscreteProb.html#r1:350"><span class="id" title="variable">r1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#e1dae7ed53bffa765009199d058dd327"><span class="id" title="notation">×</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r2:352"><span class="id" title="variable">r2</span></a>).<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="pr_Ps_same" class="idref" href="#pr_Ps_same"><span class="id" title="lemma">pr_Ps_same</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="i:356" class="idref" href="#i:356"><span class="id" title="binder">i</span></a> <a id="Ps1:357" class="idref" href="#Ps1:357"><span class="id" title="binder">Ps1</span></a> <a id="Ps2:358" class="idref" href="#Ps2:358"><span class="id" title="binder">Ps2</span></a> <a id="r:359" class="idref" href="#r:359"><span class="id" title="binder">r</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="rnds:360" class="idref" href="#rnds:360"><span class="id" title="binder">rnds</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Lists.List.html#Forall"><span class="id" title="inductive">Forall</span></a> (<span class="id" title="keyword">fun</span> <a id="r:361" class="idref" href="#r:361"><span class="id" title="binder">r</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a> ⇒ 0 <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#b6aaeb1973f5e630a6779ff194ed22e3"><span class="id" title="notation">≤</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r:361"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#b6aaeb1973f5e630a6779ff194ed22e3"><span class="id" title="notation">&lt;</span></a> 1) <a class="idref" href="QuantumLib.DiscreteProb.html#rnds:360"><span class="id" title="variable">rnds</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#Ps1:357"><span class="id" title="variable">Ps1</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rnds:360"><span class="id" title="variable">rnds</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#Ps2:358"><span class="id" title="variable">Ps2</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rnds:360"><span class="id" title="variable">rnds</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#pr_Ps"><span class="id" title="inductive">pr_Ps</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#Ps1:357"><span class="id" title="variable">Ps1</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#i:356"><span class="id" title="variable">i</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r:359"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#pr_Ps"><span class="id" title="inductive">pr_Ps</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#Ps2:358"><span class="id" title="variable">Ps2</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#i:356"><span class="id" title="variable">i</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r:359"><span class="id" title="variable">r</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="pr_Ps_nil" class="idref" href="#pr_Ps_nil"><span class="id" title="lemma">pr_Ps_nil</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="i:362" class="idref" href="#i:362"><span class="id" title="binder">i</span></a> <a id="Ps:363" class="idref" href="#Ps:363"><span class="id" title="binder">Ps</span></a> <a id="r:364" class="idref" href="#r:364"><span class="id" title="binder">r</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#pr_Ps"><span class="id" title="inductive">pr_Ps</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#Ps:363"><span class="id" title="variable">Ps</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#i:362"><span class="id" title="variable">i</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r:364"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#Ps:363"><span class="id" title="variable">Ps</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="pr_Ps_unique" class="idref" href="#pr_Ps_unique"><span class="id" title="lemma">pr_Ps_unique</span></a> : <span class="id" title="keyword">∀</span> <a id="Ps:365" class="idref" href="#Ps:365"><span class="id" title="binder">Ps</span></a> <a id="i:366" class="idref" href="#i:366"><span class="id" title="binder">i</span></a> <a id="r1:367" class="idref" href="#r1:367"><span class="id" title="binder">r1</span></a> <a id="r2:368" class="idref" href="#r2:368"><span class="id" title="binder">r2</span></a>,<br/>
&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#pr_Ps"><span class="id" title="inductive">pr_Ps</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#Ps:365"><span class="id" title="variable">Ps</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#i:366"><span class="id" title="variable">i</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r1:367"><span class="id" title="variable">r1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#pr_Ps"><span class="id" title="inductive">pr_Ps</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#Ps:365"><span class="id" title="variable">Ps</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#i:366"><span class="id" title="variable">i</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r2:368"><span class="id" title="variable">r2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#r1:367"><span class="id" title="variable">r1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#r2:368"><span class="id" title="variable">r2</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="isNone" class="idref" href="#isNone"><span class="id" title="definition">isNone</span></a> {<a id="A:369" class="idref" href="#A:369"><span class="id" title="binder">A</span></a>} (<a id="o:370" class="idref" href="#o:370"><span class="id" title="binder">o</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#A:369"><span class="id" title="variable">A</span></a>) := <span class="id" title="keyword">match</span> <a class="idref" href="QuantumLib.DiscreteProb.html#o:370"><span class="id" title="variable">o</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> | <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="pr_iterate_None" class="idref" href="#pr_iterate_None"><span class="id" title="lemma">pr_iterate_None</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> {<a id="A:372" class="idref" href="#A:372"><span class="id" title="binder">A</span></a>} <a id="n:373" class="idref" href="#n:373"><span class="id" title="binder">n</span></a> (<a id="body:374" class="idref" href="#body:374"><span class="id" title="binder">body</span></a> : <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rdefinitions.html#RbaseSymbolsImpl.R"><span class="id" title="axiom">R</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#A:372"><span class="id" title="variable">A</span></a>) <a id="r:375" class="idref" href="#r:375"><span class="id" title="binder">r</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#pr_P"><span class="id" title="definition">pr_P</span></a> (<span class="id" title="keyword">fun</span> <a id="rnd:376" class="idref" href="#rnd:376"><span class="id" title="binder">rnd</span></a> ⇒ <a class="idref" href="QuantumLib.DiscreteProb.html#isNone"><span class="id" title="definition">isNone</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#body:374"><span class="id" title="variable">body</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rnd:376"><span class="id" title="variable">rnd</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <a class="idref" href="QuantumLib.DiscreteProb.html#r:375"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="QuantumLib.DiscreteProb.html#pr_Ps"><span class="id" title="inductive">pr_Ps</span></a> (<span class="id" title="keyword">fun</span> <a id="rnds:377" class="idref" href="#rnds:377"><span class="id" title="binder">rnds</span></a> ⇒ <a class="idref" href="QuantumLib.DiscreteProb.html#isNone"><span class="id" title="definition">isNone</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#iterate"><span class="id" title="definition">iterate</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#rnds:377"><span class="id" title="variable">rnds</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#body:374"><span class="id" title="variable">body</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <a class="idref" href="QuantumLib.DiscreteProb.html#n:373"><span class="id" title="variable">n</span></a> (<a class="idref" href="QuantumLib.DiscreteProb.html#r:375"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.17+alpha/stdlib//Coq.Reals.Rfunctions.html#1fc859ef9f60fc2e3a52c48371d07707"><span class="id" title="notation">^</span></a> <a class="idref" href="QuantumLib.DiscreteProb.html#n:373"><span class="id" title="variable">n</span></a>)%<span class="id" title="var">R</span>.<br/>

<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>